{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/./src/forum/components/AddButtons.js","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCrudeSide.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/./src/forum/components/UserCard.js","webpack://@v17development/flarum-blog/./src/forum/index.ts","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/addPreferences.js","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/forum/utils/selectFiles.ts","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SettingsPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditorButton']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object"],"sourcesContent":["import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\n\nexport default class BlogMeta extends mixin(Model, {\n  discussion: Model.hasOne('discussion'),\n  featuredImage: Model.attribute('featuredImage'),\n  summary: Model.attribute('summary'),\n  isFeatured: Model.attribute('isFeatured'),\n  isSized: Model.attribute('isSized'),\n  isPendingReview: Model.attribute('isPendingReview'),\n  publishDate: Model.attribute('publishDate'),\n}) {}\n","import { compat } from '@flarum/core/forum';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport ArticleSubscription from './components/ArticleSubscription';\nimport BlogCategories from './components/BlogCategories';\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\nimport BlogOverviewItem from './components/BlogOverviewItem';\nimport BlogPostController from './components/BlogPostController';\nimport Composer from './components/Composer/Composer';\nimport ComposerPreview from './components/Composer/ComposerPreview';\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\nimport ForumNav from './components/ForumNav';\nimport Language from './components/LanguageDropdown/Language';\nimport LanguageDropdown from './components/LanguageDropdown/LanguageDropdown';\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\nimport BlogItem from './pages/BlogItem';\nimport BlogOverview from './pages/BlogOverview';\n\nexport default () => {\n  Object.assign(compat, {\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\n\n    'v17development/blog/components/Composer/Composer': Composer,\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\n\n    'v17development/blog/components/LanguageDropdown/Language': Language,\n    'v17development/blog/components/LanguageDropdown/LanguageDropdown': LanguageDropdown,\n\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\n\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\n    'v17development/blog/components/BlogCategories': BlogCategories,\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\n    'v17development/blog/components/BlogPostController': BlogPostController,\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\n    'v17development/blog/components/ForumNav': ForumNav,\n\n    'v17development/blog/pages/BlogItem': BlogItem,\n    'v17development/blog/pages/BlogOverview': BlogOverview,\n\n    'v17development/blog/models/BlogMeta': BlogMeta,\n  });\n};\n","import { extend } from 'flarum/extend';\nimport TextEditor from 'flarum/components/TextEditor';\nimport TextEditorButton from 'flarum/components/TextEditorButton';\n\nexport default function () {\n    extend(TextEditor.prototype, 'toolbarItems', function (items) {\n        items.add('center', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/center]');\n                this.attrs.composer.editor.insertAt(selection[0], '[center]');\n            }} icon=\"fas fa-align-center\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.center_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('score', (\n            <TextEditorButton onclick={() => {\n                this.attrs.composer.editor.insertAtCursor('[score]50[/score]');\n            }} icon=\"far fa-star\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.score_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('review', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/review]');\n                this.attrs.composer.editor.insertAt(selection[0], '[review]');\n            }} icon=\"far fa-comment\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.review_tooltip')}\n            </TextEditorButton>\n        ),100);\n    });\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class ArticleSubscription extends Component {\n  view() {\n    const currentSubscriptionState = this.attrs.discussion.subscription();\n\n    const preferences = app.session.user.preferences();\n    const notifyEmail = preferences['notify_newPost_email'];\n    const notifyTooltip = extractText(\n      app.translator.trans(\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\n      )\n    );\n\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\n    let icon = 'far fa-star';\n\n    // Following\n    if (currentSubscriptionState === 'follow') {\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\n      icon = 'fas fa-star';\n    }\n\n    return (\n      <Tooltip text={notifyTooltip} position=\"bottom\">\n        <Button\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\n          icon={icon}\n          onclick={this.saveSubscription.bind(\n            this,\n            this.attrs.discussion,\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\n          )}\n        >\n          {title}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  saveSubscription(discussion, subscription) {\n    discussion.save({ subscription });\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogCategories extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.blogCategories = app.forum.attribute('blogTags');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogCategories BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\n\n        {this.blogCategories &&\n          this.blogCategories.map((tagId) => {\n            const tag = app.store.getById('tags', tagId);\n\n            if (!tag) return null;\n\n            const tags = [];\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\n\n            // Add tags\n            app.store.all('tags').forEach((_tag) => {\n              if (_tag.isChild() && _tag.parent() === tag) {\n                if (_tag.slug() === m.route.param('slug')) {\n                  showSubTags = true;\n                }\n\n                tags.push(this.categoryItem(_tag));\n              }\n            });\n\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\n          })}\n      </div>\n    );\n  }\n\n  // Category item\n  categoryItem(tag) {\n    return (\n      <Link\n        href={app.route('blogCategory', { slug: tag.slug() })}\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\n        }`}\n      >\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\n          <i className={tag.icon()} />\n        </span>\n        {tag.name()}\n      </Link>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\nexport default class BlogCrudeSide extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.htmlSidebar = app.forum.attribute('htmlSideBar');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogHtml\">\n        {m.trust(this.htmlSidebar)}\n      </div>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogAuthor extends Component {\n  view() {\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\n    var background = null;\n    if (author && author.cover()) {\n      let coverUrl = author.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n\n    return (\n      <div className={'FlarumBlog-Article-Author'}>\n        <div\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\n          style={{\n            backgroundColor: author && author.color() ? author.color() : null,\n            backgroundImage: background,\n          }}\n        />\n\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\n          {author ? (\n            <Link href={app.route('user', { username: author.username() })}>\n              {author.data.attributes.blogImage ? (\n                <img class=\"Avatar\" loading=\"lazy\" src={author.data.attributes.blogImage} alt=\"\"></img>\n              ) : (\n                avatar(author)\n              )}\n            </Link>\n          ) : (\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\n          )}\n        </div>\n\n        {author && (\n          <div className={'FlarumBlog-Article-Author-Info'}>\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\n\n              {author.data.attributes.blogName ? (\n                <div>\n                  <p>{author.data.attributes.blogName}</p>\n                  <small> {\"@\"+author.displayName()}</small>\n                </div>\n              ) : (\n                <div>\n                  {author.displayName()}\n                </div>\n              )}\n\n            </Link>\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\n          </div>\n        )}\n\n        {this.attrs.loading && (\n          <div>\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  items() {\n    return new ItemList();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport BlogAuthor from './BlogAuthor';\nimport BlogCategories from '../BlogCategories';\nimport ForumNav from '../ForumNav';\n\nexport default class BlogItemSidebar extends Component {\n  view() {\n    return (\n      <div className={'FlarumBlog-Article-Sidebar'}>\n        <ul>{listItems(this.items().toArray())}</ul>\n      </div>\n    );\n  }\n\n  items() {\n    const itemlist = new ItemList();\n\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\n\n    itemlist.add('categories', BlogCategories.component(this.attrs), 0);\n\n    itemlist.add('nav', ForumNav.component(this.attrs), 0);\n\n    return itemlist;\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class BlogOverviewItem extends Component<Attrs> {\n  titleItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <>{article.title()}</>, 100);\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', icon('fas fa-eye-slash', { class: 'BlogList-item-hidden' }), 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}>\n          {icon('far fa-clock', { class: 'BlogList-item-pendingReview' })}\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogList-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogList-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName?.() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogList-item-details-replies\">\n        {icon('far fa-comment')} {(article.commentCount() || 1) - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  contentItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const summary = article.blogMeta()?.summary?.() || '';\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\n\n    if (summary) items.add('summary', <p>{summary}</p>, 80);\n\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\n\n    return items;\n  }\n\n  getImage(): string {\n    const { article, defaultImage } = this.attrs;\n\n    return article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = this.getImage();\n\n    const isSized = article.blogMeta()?.isSized?.();\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogList-item',\n          {\n            'BlogList-item-sized': isSized,\n            'BlogList-item-default': !isSized,\n          },\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\n        )}\n      >\n        <div\n          class={classList('BlogList-item-photo', {\n            'FlarumBlog-default-image': blogImage === defaultImage,\n          })}\n          style={{ backgroundImage: blogImage }}\n        />\n\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport RenameArticleModal from './Modals/RenameArticleModal';\nimport app from 'flarum/forum/app';\n\nexport default class BlogPostController extends Component {\n  init() {\n    this.loadedPost = false;\n  }\n\n  manageArticleButtons() {\n    const article = this.attrs.article;\n    const items = new ItemList();\n\n    // Working for GlowingBlue version\n    const LanguageDiscussionModal =\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\n        : null;\n\n    // Rename article\n    if (article.canRename()) {\n      items.add(\n        'rename',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\n            icon: 'fas fa-pencil-alt',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\n        ),\n        100\n      );\n    }\n\n    const articlePost = article.firstPost();\n\n    // Edit article\n    items.add(\n      'edit',\n      Button.component(\n        {\n          className: 'Button',\n          disabled: !articlePost || !articlePost.canEdit(),\n          onclick: () => {\n            app.composer.load(EditPostComposer, { post: articlePost });\n            app.composer.show();\n          },\n          icon: 'fas fa-edit',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\n      ),\n      90\n    );\n\n    // Article settings\n    items.add(\n      'articleSettings',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\n          icon: 'fas fa-cogs',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n      ),\n      80\n    );\n\n    // Update categories\n    if (article.canTag()) {\n      items.add(\n        'tag',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\n            icon: 'fas fa-tag',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\n        ),\n        70\n      );\n    }\n\n    // Approve article\n    if (article.blogMeta() && article.blogMeta().isPendingReview()) {\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\n\n      items.add(\n        'approve',\n        Button.component(\n          {\n            className: 'Button',\n            disabled: !app.forum.attribute('canApproveBlogPosts'),\n            onclick: () => {\n              article\n                .blogMeta()\n                .save({\n                  isPendingReview: false,\n                })\n                .then(\n                  () => {\n                    app.alerts.show(\n                      Alert,\n                      { type: 'success' },\n                      app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\n                    );\n                  },\n                  (response) => {\n                    this.loading = false;\n                    this.handleErrors(response);\n                  }\n                );\n            },\n            icon: 'fas fa-thumbs-up',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\n        ),\n        60\n      );\n    }\n\n    // Language\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\n      items.add(\n        'lang',\n        Button.component(\n          {\n            icon: 'fas fa-globe',\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\n          },\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\n        ),\n        50\n      );\n    }\n\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\n\n    // Lock article\n    if (article.canLock()) {\n      items.add(\n        'lock',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: DiscussionControls.lockAction.bind(article),\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\n          },\n          article.isLocked()\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\n        ),\n        30\n      );\n    }\n\n    // Hide/show/delete\n    if (article.canHide()) {\n      // Article is hidden\n      if (article.isHidden()) {\n        // Recover article\n        items.add(\n          'recover',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.restoreAction.bind(article),\n              icon: 'fas fa-eye',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\n          ),\n          20\n        );\n\n        // Delete article\n        if (article.canDelete()) {\n          items.add(\n            'delete',\n            Button.component(\n              {\n                className: 'Button',\n                onclick: () => {\n                  // Confirm deletion\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n                    // Redirect if the current page is an blog article\n                    if (app.history.getCurrent().name === 'blogArticle') {\n                      if (app.previous) {\n                        app.history.back();\n                      } else {\n                        m.route.set(app.route('blog'));\n                      }\n                    }\n\n                    return article.delete().then(() => {\n                      m.redraw();\n                    });\n                  }\n                },\n                icon: 'far fa-trash-alt',\n              },\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\n            ),\n            10\n          );\n        }\n      } else {\n        // Hide article\n        items.add(\n          'hide',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.hideAction.bind(article),\n              icon: 'fas fa-eye-slash',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\n          ),\n          0\n        );\n      }\n    }\n\n    return items;\n  }\n\n  view() {\n    const article = this.attrs.article;\n\n    const articlePost = article.firstPost();\n\n    return (\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\n          {Dropdown.component(\n            {\n              icon: 'fas fa-cog',\n              label: 'Manage',\n              buttonClassName: 'Button',\n              menuClassName: 'Dropdown-menu--right',\n              onshow: () => {\n                // Get post data to make sure they can edit the post\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\n                  this.loadedPost = true;\n                  m.redraw();\n                }\n              },\n            },\n            this.manageArticleButtons().toArray()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\nimport Button from 'flarum/common/components/Button';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport ComposerPreview from './ComposerPreview';\nimport app from 'flarum/forum/app';\n\nexport default class Composer extends ComposerBody {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.previewContent = false;\n  }\n\n  // Render\n  view() {\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\n    const loading = this.loading || this.attrs.disabled;\n\n    return (\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\n        <div className={'Flarum-Blog-Composer-tabs'}>\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\n          </Button>\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\n          </Button>\n        </div>\n\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\n          {this.previewContent && (\n            <div className={'Flarum-Blog-Composer-preview'}>\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\n\n              <ComposerPreview content={this.composer.fields.content()} />\n            </div>\n          )}\n\n          {TextEditor.component({\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\n            placeholder: this.attrs.placeholder,\n            disabled: loading,\n            composer: this.composer,\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\n            onchange: this.composer.fields.content,\n            onsubmit: this.onsubmit.bind(this),\n            value: this.composer.fields.content(),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Submit trigger\n  onsubmit() {\n    if (this.attrs.onsubmit) {\n      this.attrs.onsubmit();\n    }\n  }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class ComposerPreview extends Component {\n  view() {\n    return <div />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class FeaturedBlogItem extends Component<Attrs> {\n  topItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'tags',\n      <span class=\"BlogFeatured-list-item-tags\">\n        {article.tags()?.map((tag) => (\n          <span class=\"dataItem\">{tag.name()}</span>\n        ))}\n      </span>,\n      100\n    );\n\n    // Sticky is an optional dependency, so we can't\n    // assume method existence.\n    if (article.isSticky?.()) {\n      items.add('sticky', <span class=\"BlogFeatured-list-item-isSticky dataItem\">{icon('fas fa-thumbtack')}</span>, 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', <span class=\"BlogFeatured-list-item-isHidden dataItem\">{icon('fas fa-eye-slash')}</span>, 60);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} position=\"bottom\">\n          <span class=\"BlogFeatured-list-item-pendingReview dataItem\">\n            {icon('far fa-clock')} {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}\n          </span>\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogFeatured-list-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogFeatured-list-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogFeatured-list-item-details-replies\">\n        {icon('far fa-comment')} {article.commentCount() - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogFeatured-list-item',\n          article.tags().map((tag) => `BlogFeatured-list-item-category-${tag.id()}`),\n          'FlarumBlog-default-image'\n        )}\n        style={{ backgroundImage: blogImage }}\n      >\n        <div class=\"BlogFeatured-list-item-top\">{this.topItems().toArray()}</div>\n\n        <div className={'BlogFeatured-list-item-details'}>\n          <h4>{article.title()}</h4>\n\n          <div className={'data'}>{this.dataItems().toArray()}</div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport default class ForumNav extends Component {\n  view() {\n    return (\n      <div className=\"BlogForumNav BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\n        <nav className=\"IndexPage-nav sideNav\">\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\n            {this.navItems().toArray()}\n          </SelectDropdown>\n        </nav>\n      </div>\n    );\n  }\n\n  navItems() {\n    return IndexPage.prototype.navItems();\n  }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class Language extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = (\n        <span>\n          <i className={'fas fa-globe'} /> {lang.name()}\n        </span>\n      );\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const { language, uppercase } = this.attrs;\n    const name = language.name() || '';\n\n    return (\n      <span>\n        <i className={'fas fa-globe'} />\n        &nbsp;\n        {uppercase ? name.toUpperCase() : name}\n      </span>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport Language from './Language';\n\nexport default class LanguageDropdown extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = <Language language={lang} />;\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const selected = this.attrs.selected;\n\n    return Dropdown.component(\n      {\n        buttonClassName: 'Button',\n        label: this.options[selected] || this.options[this.attrs.default],\n      },\n      Object.keys(this.options).map((key) => {\n        let defaultSelected;\n        if (app.forum.attribute('fof-discussion-language.composerLocaleDefault')) {\n          defaultSelected = 'any';\n        } else {\n          defaultSelected = app.translator.formatter.locale;\n        }\n        const isSelected = selected || defaultSelected;\n        const active = key === isSelected;\n\n        return Button.component(\n          {\n            active,\n            icon: active ? 'fas fa-check' : true,\n            onclick: () => this.attrs.onclick(key),\n          },\n          this.options[key]\n        );\n      })\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\nimport selectFiles from '../../utils/selectFiles';\n\nexport default class BlogPostSettingsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (this.attrs.article) {\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\n    } else {\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\n    }\n\n    this.isNew = !this.meta.exists;\n\n    this.summary = Stream(this.meta.summary() || '');\n\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\n\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\n    this.isSized = Stream(this.meta.isSized() || false);\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\n    this.publishDate = Stream(this.meta.publishDate() || false);\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'summary',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\n        <textarea\n          className=\"FormControl\"\n          style={{\n            maxWidth: '100%',\n            minWidth: '100%',\n            width: '100%',\n            minHeight: '120px',\n          }}\n          bidi={this.summary}\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\n        />\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\n      </div>,\n      30\n    );\n\n    let fofUploadButton = null;\n\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n      const {\n        components: { Uploader, FileManagerModal },\n      } = require('@fof-upload');\n\n      const uploader = new Uploader();\n\n      fofUploadButton = (\n        <Button\n          class=\"Button Button--icon\"\n          onclick={async () => {\n            app.modal.show(\n              FileManagerModal,\n              {\n                uploader: uploader,\n                onSelect: (files) => {\n                  const file = app.store.getById('files', files[0]);\n\n                  this.featuredImage(file.url());\n                },\n              },\n              true\n            );\n          }}\n          icon=\"fas fa-cloud-upload-alt\"\n        />\n      );\n    }\n\n    items.add(\n      'image',\n      <div className=\"Form-group V17Blog-ArticleImage\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\n        <div data-upload-enabled={!!fofUploadButton}>\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\n          {fofUploadButton}\n        </div>\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\n\n        {this.featuredImage() !== '' && (\n          <img\n            src={this.featuredImage()}\n            alt=\"Article image\"\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\n            style={{ width: '100%', marginTop: '15px' }}\n          />\n        )}\n      </div>,\n      30\n    );\n\n    items.add(\n      'sized',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isSized() == true,\n            onchange: (val) => {\n              this.isSized(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    items.add(\n      'featured',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isFeatured() == true,\n            onchange: (val) => {\n              this.isFeatured(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.featured.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.featured.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    if (app.forum.attribute('canApproveBlogPosts')) {\n      items.add(\n        'publishDate',\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.title')}:</label>\n          <input type=\"datetime-local\"\n            className=\"FormControl\"\n            bidi={this.publishDate}\n            placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate')}\n          />\n          <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.helper_text')}</small>\n      </div>,\n        -10\n      );\n    }\n\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      summary: this.summary(),\n      featuredImage: this.featuredImage(),\n      isFeatured: this.isFeatured(),\n      isSized: this.isSized(),\n      isPendingReview: this.isPendingReview(),\n      publishDate: this.publishDate(),\n      \n      relationships:\n        this.isNew && !this.attrs.isComposer\n          ? {\n              discussion: this.attrs.article,\n            }\n          : null,\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // Submit data\n    if (this.attrs.onsubmit) {\n      // Update attributes\n      this.meta.pushData({\n        attributes: this.submitData(),\n      });\n\n      // Push\n      this.attrs.onsubmit(this.meta);\n\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n\n    this.meta.save(this.submitData()).then(\n      () => {\n        if (this.attrs.article) {\n          this.attrs.article.pushData({\n            relationships: {\n              blogMeta: this.meta,\n            },\n          });\n        }\n\n        this.hide();\n        m.redraw();\n      },\n      (response) => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n}\n","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class RenameArticleModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.article = this.attrs.article;\n\n    this.name = Stream(this.article.title() || '');\n\n    this.redirect = this.attrs.redirect;\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.name(),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Do not save\n    if (this.attrs.onChange) {\n      this.attrs.onChange(this.name());\n      this.hide();\n\n      return;\n    }\n\n    this.article\n      .save({\n        title: this.name(),\n      })\n      .then(\n        () => {\n          this.hide();\n\n          // Redirect\n          if (this.redirect) {\n            const url = `/blog/${this.article.slug()}`;\n\n            m.route.set(url, true);\n            window.history.replaceState(null, document.title, url);\n          }\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","import { override } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\n\n\nimport app from 'flarum/forum/app';\nimport UserControls from 'flarum/forum/utils/UserControls';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Link from 'flarum/common/components/Link';\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\nimport listItems from 'flarum/common/helpers/listItems';\nimport classList from 'flarum/common/utils/classList';\n\nfunction getName(user) {\n  let name = app.translator.trans('core.lib.username.deleted_text');\n  if (user && user.displayName()) {\n    name = user.displayName();\n  }\n  if (user.data.attributes.blogName) {\n    name += \" | \" + user.data.attributes.blogName;\n  }\n  return <span className=\"username\">{name}</span>;\n}\n\nexport default function () {\n  override(UserCard.prototype, 'view', function (original) {\n    const user = this.attrs.user;\n    const controls = UserControls.controls(user, this).toArray();\n    const color = user.color();\n    const badges = user.badges().toArray();\n    var background = null;\n\n    //We are doing a override...so...\n    if (this.attrs.user.cover()) {\n      let coverUrl = this.attrs.user.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n    return (\n      <div className={classList('UserCard', this.attrs.className)} style={color && { '--usercard-bg': color, '--background-image':  background}}>\n        <div className=\"darkenBackground\">\n          <div className=\"container\">\n            {!!controls.length && (\n              <Dropdown\n                className=\"UserCard-controls App-primaryControl\"\n                menuClassName=\"Dropdown-menu--right\"\n                buttonClassName={this.attrs.controlsButtonClassName}\n                label={app.translator.trans('core.forum.user_controls.button')}\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\n                icon=\"fas fa-ellipsis-v\"\n              >\n                {controls}\n              </Dropdown>\n            )}\n\n            <div className=\"UserCard-profile\">\n              <h1 className=\"UserCard-identity\">\n                {this.attrs.editable ? (\n                  <>\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" />\n                    {getName(user)}\n                  </>\n                ) : (\n                  <Link href={app.route.user(user)}>\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\n                    {getName(user)}\n                  </Link>\n                )}\n              </h1>\n\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\n\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n}","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/common/models/Tag';\nimport Discussion from 'flarum/common/models/Discussion';\nimport BlogOverview from './pages/BlogOverview';\nimport redirector from './utils/redirector';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport extendTagOverview from './utils/extendTagOverview';\nimport discussionRouting from './utils/discussionRouting';\nimport BlogComposer from './pages/BlogComposer';\nimport compat from './compat';\nimport addSidebarNav from './utils/addSidebarNav';\n\nimport BlogItem from './pages/BlogItem';\nimport addPreferences from './utils/addPreferences';\nimport UserCard from './components/UserCard';\nimport AddScoreButton from './components/AddScoreButton';\nimport AddButtons from './components/AddButtons';\n\n// Register Flarum Blog\napp.initializers.add(\n  'v17development-flarum-blog',\n  (app) => {\n    app.routes.blog = { path: '/blog', component: BlogOverview };\n\n    app.routes.blogCategory = {\n      path: '/blog/category/:slug',\n      component: BlogOverview,\n    };\n\n    app.routes.blogComposer = {\n      path: '/blog/compose',\n      component: BlogComposer,\n    };\n\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\n\n    app.routes['blogArticle.near'] = {\n      path: '/blog/:id/:near',\n      component: BlogItem,\n    };\n\n    app.store.models.blogMeta = BlogMeta;\n\n    Discussion.prototype.blogMeta = Model.hasOne<BlogMeta>('blogMeta');\n    Tag.prototype.isBlog = Model.attribute<boolean>('isBlog');\n\n    // Redirect discussions/tags to their blog post/overview\n    redirector();\n\n    // Extend tag overview.\n    // Hide tags which are used as blog category\n    extendTagOverview();\n\n    // Make that blog articles have a blog route and not a discussion route\n    discussionRouting();\n\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\n    addSidebarNav();\n\n    addPreferences();\n    UserCard();\n    AddButtons();\n  },\n  -100000\n);\n\ncompat();\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\nimport Composer from '../components/Composer/Composer';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default class BlogComposer extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // User cannot write blogs\n    if (!app.forum.attribute('canWriteBlogPosts')) {\n      m.route.set(app.route('blog'));\n      return;\n    }\n\n    // Send history push\n    app.history.push('blogComposer');\n\n    // Get languages (if enabled)\n    this.languages = app.store.all('discussion-languages') || [];\n\n    // Set body class\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\n\n    // Article data\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\n    this.article = app.store.createRecord('discussions');\n    this.blogMeta = null;\n\n    this.tags = [];\n\n    // Pre-select tags\n    if (m.route.param().tags) {\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\n\n      if (m.route.param().tags.length > 0) {\n        tagList.forEach((tagId) => {\n          const foundTag = app.store.getById('tags', tagId);\n\n          if (foundTag) {\n            this.tags.push(foundTag);\n          }\n        });\n      }\n    }\n\n    this.isSaving = false;\n  }\n\n  openTagsModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: this.tags,\n      onsubmit: (tags) => {\n        this.tags = tags;\n      },\n    });\n  }\n\n  openNameArticleModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(RenameArticleModal, {\n      article: this.article,\n      onChange: (title) => {\n        this.article.pushData({\n          attributes: {\n            title,\n          },\n        });\n      },\n    });\n  }\n\n  openBlogSettings(e) {\n    e.preventDefault();\n\n    if (this.isSaving) return;\n\n    app.modal.show(BlogPostSettingsModal, {\n      meta: this.blogMeta,\n      onsubmit: (meta) => (this.blogMeta = meta),\n    });\n  }\n\n  view() {\n    return (\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>{this.pageItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  pageItems() {\n    const items = new ItemList();\n\n    items.add(\n      'toolButtons',\n      <div className=\"FlarumBlog-ToolButtons\">\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\n          <i class=\"icon fas fa-angle-left Button-icon\" />\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n        </Link>\n      </div>,\n      100\n    );\n\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\n\n    return items;\n  }\n\n  articleWrapperItems() {\n    const items = new ItemList();\n\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\n\n    items.add(\n      'sidebar',\n      <div className=\"FlarumBlog-Article-Sidebar\">\n        <BlogAuthor user={app.session.user} />\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\n\n    items.add(\n      'content',\n      <div className=\"FlarumBlog-Article-Content\">\n        <div\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\n          style={{\n            backgroundImage: blogImage,\n            cursor: 'pointer',\n          }}\n          onclick={(e) => this.openBlogSettings(e)}\n        />\n\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown selected={this.articleLanguage} onclick={(language) => (this.articleLanguage = language)} />\n            )}\n\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\n            </Button>\n          </div>\n        </div>\n\n        {/* Article Categories */}\n        <div className={'FlarumBlog-Article-Categories'}>\n          {this.tags.map((tag) => (\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n              {tag.name()}\n            </button>\n          ))}\n\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n            {this.tags.length === 0\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\n            <i className={'fas fa-edit'} />\n          </button>\n        </div>\n\n        <div className={'FlarumBlog-Article-Post'}>\n          {/* Article name */}\n          <h1 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\n            {this.article && this.article.title() && this.article.title() !== ''\n              ? this.article.title()\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\n\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\n              <i className={'fas fa-edit'} />\n            </button>\n          </h1>\n\n          <div className=\"Post-body\">\n            <Composer\n              composer={app.composer}\n              originalContent={''}\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\n              onsubmit={() => this.create()}\n              disabled={this.isSaving}\n            />\n          </div>\n        </div>\n      </div>,\n      100\n    );\n\n    items.add(\n      'commentsPlaceholder',\n      <div className=\"FlarumBlog-Article-Comments\">\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\n        {/* Locked */}\n\n        <div className=\"Post-body\">\n          <blockquote class=\"uncited\">\n            <div>\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\n            </div>\n          </blockquote>\n        </div>\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  create() {\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    // Force tags\n    if (this.tags.length === 0) {\n      this.openTagsModal();\n      return;\n    }\n\n    // Force title\n    if (!this.article.title() || this.article.title() === '') {\n      this.openNameArticleModal();\n      return;\n    }\n\n    // Find blog tags\n    const findblogTags = this.tags.filter((tag) => {\n      return blogTags.indexOf(tag.id()) >= 0;\n    });\n\n    // No blog tags selected\n    if (findblogTags.length === 0) {\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\n      return;\n    }\n\n    if (\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\n    ) {\n      return;\n    }\n\n    let relationships = {\n      tags: this.tags,\n    };\n\n    // Add languages if possible\n    if (this.languages.length > 0) {\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\n    }\n\n    const data = {\n      title: this.article.title(),\n      content: app.composer.fields.content(),\n      relationships,\n      blogMeta:\n        this.blogMeta !== null\n          ? {\n              featuredImage: this.blogMeta.featuredImage(),\n              summary: this.blogMeta.summary(),\n              isSized: this.blogMeta.isSized(),\n            }\n          : null,\n    };\n\n    this.isSaving = true;\n\n    this.article\n      .save(data)\n      .then((article) => {\n        setTimeout(() => {\n          // Redirect to the article\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\n        }, 500);\n      })\n      .catch(() => {\n        this.isSaving = false;\n        m.redraw();\n      });\n  }\n}\n","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostStream from 'flarum/forum/components/PostStream';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport BlogPostController from '../components/BlogPostController';\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\nimport Link from 'flarum/common/components/Link';\nimport BlogOverview from './BlogOverview';\nimport fullTime from 'flarum/common/helpers/fullTime';\nimport ArticleSubscription from '../components/ArticleSubscription';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/forum/app';\n\nexport default class BlogItem extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // Send history push\n    app.history.push('blogArticle');\n\n    this.bodyClass = 'BlogItemPage';\n\n    this.near = m.route.param('near') || 0;\n\n    this.loading = true;\n    this.found = false;\n    this.article = null;\n\n    this.loadBlogItem();\n  }\n\n  // Load blog overview\n  loadBlogItem() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      app.store\n        .find('discussions', m.route.param('id').split('-')[0])\n        .then(this.show.bind(this))\n        .catch(() => {\n          m.redraw();\n        });\n    }\n\n    m.redraw();\n  }\n\n  // Show blog post\n  show(article) {\n    // Set article data\n    this.article = article;\n\n    // Update title\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\n\n    this.loading = false;\n\n    let includedPosts = [];\n    if (article.payload && article.payload.included) {\n      const articleId = article.id();\n\n      includedPosts = article.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            record.relationships.discussion.data.id === articleId\n        )\n        .map((record) => app.store.getById('posts', record.id))\n        .sort((a, b) => a.id() - b.id())\n        .slice(0, 20);\n    }\n\n    this.stream = new PostStreamState(article, includedPosts);\n\n    // Scroll to specific post\n    if (this.near) {\n      this.stream.goToNumber(this.near || 0, true).then(() => {\n        app.current.set('discussion', article);\n        app.current.set('stream', this.stream);\n      });\n    }\n\n    // Read post on load\n    if (app.session.user && !article.lastReadPostNumber()) {\n      article.save({ lastReadPostNumber: 1 });\n    }\n\n    m.redraw();\n  }\n\n  postItems() {\n    let articlePost = null;\n\n    if (!this.loading && this.article) {\n      articlePost = this.article?.firstPost?.();\n    }\n\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <h1\n        className={classList('FlarumBlog-Article-Title', {\n          'FlarumBlog-Article-GhostTitle': this.loading,\n        })}\n      >\n        {this?.article?.title?.() || 'Ghost title'}\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\n      </h1>,\n      100\n    );\n\n    items.add(\n      'publishDate',\n      <div\n        className={classList('FlarumBlog-Article-PublishDate', {\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\n        })}\n      >\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\n      </div>,\n      80\n    );\n\n    if (this.loading) {\n      items.add(\n        'skeleton',\n        [0, 1, 2].map(() => (\n          <div>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p>&nbsp;</p>\n          </div>\n        )),\n        60\n      );\n    }\n\n    if (!this.loading) {\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\n        items.add(\n          'review',\n          <div className={'Post-body'}>\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\n              <div>\n                {icon('far fa-clock', { style: { marginRight: '5px' } })}{' '}\n                {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}\n              </div>\n            </blockquote>\n          </div>,\n          60\n        );\n      }\n\n      if (articlePost) {\n        items.add('post', <CommentPost post={articlePost} />, 40);\n      }\n    }\n\n    return items;\n  }\n\n  contentItems() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl')}/assets/${app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.article?.blogMeta()?.featuredImage?.() ? `url(${this.article.blogMeta().featuredImage()})` : defaultImage;\n\n    const items = new ItemList();\n\n    items.add(\n      'image',\n      <div\n        className={classList('FlarumBlog-Article-Image FlarumBlog-default-image', { 'FlarumBlog-Article-GhostImage': this.loading })}\n        style={{\n          backgroundImage: blogImage,\n          opacity: this.article?.isHidden?.() ? 0.4 : null,\n        }}\n      />,\n      100\n    );\n\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\n    }\n\n    // Article Categories\n    items.add(\n      'categories',\n      <div className=\"FlarumBlog-Article-Categories\">\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\n\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\n      </div>,\n      60\n    );\n\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\n\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\n      items.add(\n        'comments',\n        <div className={'FlarumBlog-Article-Comments'}>\n          {/* Show subscription state */}\n          {!this.loading &&\n            app.session.user &&\n            this.article.subscription &&\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\n\n          <h4>\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\n          </h4>\n\n          {/* Locked */}\n          {!this.loading && this.article?.isLocked?.() && (\n            <div className={'Post-body'}>\n              <blockquote class=\"uncited\">\n                <div>\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\n                </div>\n              </blockquote>\n            </div>\n          )}\n\n          {!this.loading &&\n            this.article &&\n            PostStream.component({\n              discussion: this.article,\n              stream: this.stream,\n              onPositionChange: this.positionChanged.bind(this),\n            })}\n        </div>,\n        75\n      );\n    }\n\n    return items;\n  }\n\n  view() {\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>\n          <div className={'FlarumBlog-ToolButtons'}>\n            <Link\n              href={app.route('blog')}\n              className={'Button'}\n              onclick={(e) => {\n                if (app.previous.matches(BlogOverview)) {\n                  e.preventDefault();\n                  history.back();\n                }\n              }}\n            >\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n            </Link>\n          </div>\n          <div className={'FlarumBlog-Article'}>\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\n\n            <BlogItemSidebar article={this.article} loading={this.loading} />\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  positionChanged(startNumber, endNumber) {\n    const article = this.article;\n\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\n      article.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport IndexPage from 'flarum/components/IndexPage';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport BlogCategories from '../components/BlogCategories';\nimport Link from 'flarum/common/components/Link';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ForumNav from '../components/ForumNav';\nimport BlogOverviewItem from '../components/BlogOverviewItem';\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\nimport BlogCrudeSide from '../components/BlogCrudeSide';\n\nexport default class BlogOverview extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    this.bodyClass = 'BlogOverviewPage';\n\n    this.isLoading = true;\n    this.featuredPosts = [];\n    this.posts = [];\n\n    this.languages = app.store.all('discussion-languages');\n\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    // Send history push\n    app.history.push('blog');\n\n    this.loadBlogOverview();\n\n    this.featuredCount = parseInt(app.forum.attribute('blogFeaturedCount'));\n\n    this.showCategories = true;\n    this.showForumNav = true;\n\n\n    this.scrollTimeout = setTimeout(this.scroll.bind(this, 1), 5000);\n\n    //Yeah...hacky as fuck, but i dont know any other way\n    if (window.innerWidth <= 799) {\n      console.log(\"mobile\");\n      var t = this;\n      setTimeout(function () {\n        if (document.getElementsByClassName('BlogFeatured-list')) {\n          document.getElementsByClassName('BlogFeatured-list')[0].addEventListener('touchmove', function () {\n            clearTimeout(t.scrollTimeout);\n          }, { once: true });\n        }\n      }, 1024);\n    }\n  }\n  onremove(vNode) {\n    clearTimeout(this.scrollTimeout);\n  }\n\n  scroll(direction) {\n    clearTimeout(this.scrollTimeout);\n    let list = document.querySelector('.BlogFeatured-list');\n    let item = document.querySelector('.BlogFeatured-list-item');\n    let maxScroll = list.scrollWidth - list.clientWidth;\n    let scrollAvailable = maxScroll - list.scrollLeft;\n\n    if (direction > 0 && scrollAvailable < item.clientWidth) {\n      list.scrollLeft = 0;\n    }\n\n    switch (true) {\n      case direction > 0 && scrollAvailable < item.clientWidth:\n        list.scrollLeft = 0;\n        break;\n      case direction < 0 && scrollAvailable == maxScroll:\n        list.scrollLeft = maxScroll;\n        break;\n      default:\n        list.scrollLeft += direction * (item.clientWidth + 20);\n        break;\n    }\n\n    this.scrollTimeout = setTimeout(this.scroll.bind(this, 1), 5000);\n  }\n\n  // Load blog overview\n  loadBlogOverview() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n    if (preloadBlogOverview && Array.isArray(preloadBlogOverview) && preloadBlogOverview.length > 0) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      let featured = [];\n      let normal = [];\n      preloadBlogOverview.forEach(entry => {\n        if (entry.data.attributes.isFeatured) {\n          featured.push(entry);\n        } else {\n          normal.push(entry);\n        };\n      });\n      setTimeout(this.show.bind(this, normal, featured), 0);\n    } else {\n      this.reloadData();\n    }\n\n    m.redraw();\n  }\n\n  reloadData() {\n    let normalQ = `-is:featured is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n    let featuredQ = `is:featured is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n\n    if (this.languages !== null && this.languages.length >= 1) {\n      normalQ += ` language:${this.currentSelectedLanguage}`;\n      featuredQ += ` language:${this.currentSelectedLanguage}`;\n    }\n    this.isLoading = true;\n    let normalPromise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 23,\n      },\n      filter: {\n        q: normalQ,\n      },\n      sort: '-createdAt',\n    });\n    let featuredPromise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 15,\n      },\n      filter: {\n        q: featuredQ,\n      },\n      sort: '-createdAt',\n    });\n    let promises = [\n      normalPromise,\n      featuredPromise,\n    ];\n    Promise.all(promises).then(values => {\n      setTimeout(this.show.bind(this, values[0], values[1]), 0);\n    });\n  }\n\n  // Show blog posts\n  show(articles, featured) {\n    if (articles.length === 0 && featured.length === 0) {\n      this.isLoading = false;\n      m.redraw();\n      return;\n    }\n    if (featured.length < 3) {\n      let needed = 3 - featured.length;\n      featured = featured.concat(articles.splice(0, needed));\n    }\n    if (articles.length > 20) {\n      articles.splice(19);\n    }\n\n    // Set pagination\n    this.hasMore = false;\n\n    this.featuredPosts = featured;\n    this.posts = articles;\n\n    this.isLoading = false;\n\n    m.redraw();\n  }\n\n  title() {\n    if (!m.route.param('slug')) {\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\n    }\n\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\n\n    return (\n      <h2>\n        {tag && tag[0] && tag[0].name()}\n        <small>\n          {' '}\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\n        </small>\n      </h2>\n    );\n  }\n\n  view() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogOverview'}>\n        <div className={'container'}>\n          <div className={'BlogFeatured'}>\n            <div className={'BlogOverviewButtons'}>\n              {app.forum.attribute('canWriteBlogPosts') && (\n                <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\n                </Button>\n              )}\n\n              {this.languages !== null && this.languages.length >= 1 && (\n                <LanguageDropdown\n                  selected={this.currentSelectedLanguage}\n                  onclick={(language) => {\n                    this.currentSelectedLanguage = language;\n\n                    m.route.set(document.location.pathname, {\n                      lang: language,\n                    });\n\n                    this.reloadData();\n                  }}\n                />\n              )}\n            </div>\n\n            {this.title()}\n\n            <div class=\"BlogFeatured-carousel\">\n              <Button className={'Button BlogFeatured-button'} onclick={() => this.scroll(-1)} icon={'fas fa-arrow-left'}> </Button>\n              <div class=\"BlogFeatured-list\">\n                {/* Ghost data */}\n                {this.isLoading &&\n                  [...new Array(3).fill(undefined)].map(() => (\n                    <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\n                      <div class=\"BlogFeatured-list-item-details\">\n                        <h4>&nbsp;</h4>\n\n                        <div class=\"data\">\n                          <span>\n                            <i class=\"far fa-wave\" />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n\n                {!this.isLoading &&\n                  this.featuredPosts.length >= 0 &&\n                  this.featuredPosts.map(\n                    (article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />\n                  )}\n              </div>\n              <Button className={'Button BlogFeatured-button'} onclick={() => this.scroll(1)} icon={'fas fa-arrow-right'}> </Button>\n            </div>\n          </div>\n\n          <div className={'BlogScrubber'}>\n            <div className={'BlogList'}>\n              {this.isLoading &&\n                [false, false, true, false].map((state) => {\n                  return (\n                    <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\n                      <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\n                      <div className={'BlogList-item-content'}>\n                        <h4>&nbsp;</h4>\n                        <p>&nbsp;</p>\n\n                        <div className={'data'}>\n                          <span>\n                            <i className={'far fa-wave'} />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n\n              {!this.isLoading &&\n                this.posts.length >= 1 &&\n                this.posts.map((article) => <BlogOverviewItem article={article} defaultImage={defaultImage} />)}\n            </div>\n\n            <div className={'Sidebar'}>\n              {<BlogCrudeSide />}\n              {this.showCategories && <BlogCategories />}\n              {this.showForumNav && <ForumNav />}\n            </div>\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  newArticle() {\n    let tags = [];\n\n    // Get current category\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\n\n    if (currentCategory) {\n      tags.push(currentCategory);\n    }\n\n    // Redirect to the composer\n    m.route.set(\n      app.route('blogComposer', {\n        tags: tags.map((tag) => tag.id()).join(),\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\n      })\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport { extend, override } from 'flarum/common/extend';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport SettingsPage from 'flarum/common/components/SettingsPage';\nimport Stream from 'flarum/common/utils/Stream';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Alert from 'flarum/common/components/Alert';\n\nexport default function () {\n\n    extend(SettingsPage.prototype, 'oninit', function () {\n        //I dont have a fucking clue why it need to be here and not in the \"settingsItems\" extend\n        this.blogSettings = {\n            name: Stream(this.user.preferences().blogName || null),\n            image: Stream(this.user.preferences().blogImage || null)\n        }\n    });\n    extend(SettingsPage.prototype, 'settingsItems', function (items) {\n        if (app.forum.attribute('canWriteBlogPosts') == false) {\n            return;\n        }\n        items.add(\n            'blog-options',\n            FieldSet.component(\n                {\n                    label: app.translator.trans('v17development-flarum-blog.forum.user_settings.settings'),\n                    className: 'blog-settings',\n                },\n                this.blogOptions().toArray()\n            )\n        );\n    });\n\n    SettingsPage.prototype['blogOptions'] = function () {\n        let fofUploadButton = null;\n        if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n            const { components: { Uploader, FileManagerModal }, } = require('@fof-upload');\n            const uploader = new Uploader();\n            fofUploadButton = (\n                <Button class=\"Button Button--icon\" onclick={async () => {\n                    app.modal.show(\n                        FileManagerModal,\n                        {\n                            uploader: uploader,\n                            onSelect: (files) => {\n                                this.blogSettings.image(app.store.getById('files', files[0]).url());\n                                console.log(this.blogSettings);\n                            },\n                        },\n                        true\n                    );\n                }}\n                    icon=\"fas fa-cloud-upload-alt\"\n                />\n            );\n        }\n\n        const items = new ItemList();\n        items.add(\n            'blog-name',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.name')}:</label>\n                <input type=\"text\" className=\"FormControl\" bidi={this.blogSettings.name}></input>\n            </div>,\n        );\n        items.add(\n            'blog-image',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.image')}:</label>\n                <div style=\"display:flex\">\n                    <input type=\"text\" className=\"FormControl\" placeholder=\"https://\" bidi={this.blogSettings.image} />\n                    {fofUploadButton}\n                </div>\n\n\n                <img src={this.blogSettings.image()} height=\"100\" />\n            </div>,\n        );\n        items.add(\n            'blog-save',\n            <Button class=\"Button\" onclick={async () => {\n                let promise = this.user.savePreferences({ blogName: this.blogSettings.name, blogImage: this.blogSettings.image });\n                promise.then(function () {\n                    m.redraw();\n                    app.alerts.show(Alert, { type: 'success' }, app.translator.trans('v17development-flarum-blog.forum.user_settings.save_alert'));\n                });\n            }}>\n                {app.translator.trans('v17development-flarum-blog.forum.user_settings.save')}\n            </Button>\n        );\n        return items;\n    };\n}","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\n      items.add(\n        'blog',\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\n        </LinkButton>,\n        15\n      );\n    }\n\n    return items;\n  });\n}\n","export default function () {\n  // Save the original function before we override it\n  const original_discussion_route = app.route.discussion;\n\n  /**\n   * Generate a URL to a discussion OR a Blog Article.\n   *\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\n   * It will try to keep the original function executed if the discussion being\n   * processed isn't a blog article.\n   *\n   * @param {Discussion} discussion\n   * @param {Integer} [near]\n   * @return {String}\n   */\n  app.route.discussion = (discussion, near) => {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n    let shouldRedirect = false;\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      if (foundTags.length > 0) {\n        shouldRedirect = true;\n      }\n    }\n    if (shouldRedirect) {\n      return discussion.lastReadPostNumber() > 1\n        ? app.route('blogArticle.near', {\n            id: discussion.slug(),\n            near: discussion.lastReadPostNumber(),\n          })\n        : app.route('blogArticle', {\n            id: discussion.slug(),\n          });\n    } else {\n      return original_discussion_route(discussion, near);\n    }\n  };\n}\n","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nexport default function extendTagOverview() {\n  extend(TagsPage.prototype, 'view', function (markup) {\n    // Pending xhr to load all tags, throw back loading indicator.\n    if (this.loading) {\n      return markup;\n    }\n\n    if (app.forum.attribute('blogHideTags') == false) return markup;\n\n    // Get blog tag ID's\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    const tag_tiles_parent = findChild(markup, 'TagsPage-content', true);\n    const tag_tiles = tag_tiles_parent?.children[0];\n\n    if (!tag_tiles_parent || !tag_tiles) return markup;\n\n    // Map through the tiles and remove tiles that are part of the blog\n    tag_tiles.children = tag_tiles.children.map((tile, i) => {\n      return blogTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\n    });\n\n    return markup;\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogHideTags') == false) return items;\n\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    blogTags.forEach((id) => {\n      items.remove(`tag${id}`);\n    });\n\n    return items;\n  });\n}\n\nfunction findChild(parent, childClass, recursive = false, maxDepth = 50, depth = 0) {\n  const children = getChildren(parent);\n  let child = null;\n\n  for (let i = 0; i < children.length; i++) {\n    const childClassName = children[i]?.attrs?.className || '';\n    if (childClassName.includes(childClass)) {\n      child = children[i];\n      break;\n    }\n  }\n\n  // Recursive search\n  if (recursive && !child && depth < maxDepth) {\n    for (let subParent of children) {\n      const subChild = findChild(subParent, childClass, true, maxDepth, depth + 1);\n      if (subChild) {\n        return subChild;\n      }\n    }\n  }\n\n  return child;\n}\n\nfunction getChildren(parent) {\n  if (Array.isArray(parent)) {\n    return parent;\n  }\n  const children = parent?.children || [];\n  if (!Array.isArray(children)) {\n    return [];\n  }\n  return children;\n}\n","import IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Redirect tag to blog category\n  extend(IndexPage.prototype, 'oncreate', function () {\n    const tag = this.currentTag();\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\n\n    // Only trigger when it's a tag page and the redirects are enabled\n    if (tag && tagRedirectEnabled) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      // Tag is inside list\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\n        m.route.set(app.route('blog'));\n      }\n    }\n  });\n\n  // Redirect discussion to blog article\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      // Only redirect if the discussion has blog tags\n      if (foundTags.length > 0) {\n        // Redirect to blog article\n        const url = app.route('blogArticle', {\n          id: discussion.slug(),\n        });\n\n        m.route.set(url, null, { replace: true });\n\n        return null;\n      }\n    }\n\n    return original(discussion);\n  });\n}\n","/**\n * Asynchronously select file(s).\n *\n * @param contentType The content type of files you wish to select. For instance, use \"image/*\" to select all types of images.\n * @param multiple Indicates if the user can select multiple files.\n * @returns A promise of a file or array of files in case the multiple parameter is true.\n */\nfunction selectFiles(contentType: string, multiple: false): Promise<File>;\nfunction selectFiles(contentType: string, multiple: true): Promise<File[]>;\n\nfunction selectFiles(contentType: string, multiple: boolean): Promise<File | File[]> {\n  return new Promise((resolve) => {\n    let input = document.createElement('input');\n    input.type = 'file';\n    input.multiple = multiple;\n    input.accept = contentType;\n\n    input.onchange = (_) => {\n      let files = Array.from(input.files || []);\n      if (multiple) resolve(files);\n      else resolve(files[0]);\n    };\n\n    input.click();\n  });\n}\n\nexport default selectFiles;\n","module.exports = flarum.core;","module.exports = flarum.extensions['fof-upload'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Alert'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/FieldSet'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Page'];","module.exports = flarum.core.compat['common/components/SelectDropdown'];","module.exports = flarum.core.compat['common/components/SettingsPage'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/components/TextEditor'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/fullTime'];","module.exports = flarum.core.compat['common/helpers/humanTime'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/models/Discussion'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['common/utils/mixin'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['components/TextEditorButton'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/AvatarEditor'];","module.exports = flarum.core.compat['forum/components/CommentPost'];","module.exports = flarum.core.compat['forum/components/ComposerBody'];","module.exports = flarum.core.compat['forum/components/DiscussionPage'];","module.exports = flarum.core.compat['forum/components/EditPostComposer'];","module.exports = flarum.core.compat['forum/components/IndexPage'];","module.exports = flarum.core.compat['forum/components/PostStream'];","module.exports = flarum.core.compat['forum/components/UserCard'];","module.exports = flarum.core.compat['forum/states/PostStreamState'];","module.exports = flarum.core.compat['forum/utils/DiscussionControls'];","module.exports = flarum.core.compat['forum/utils/UserControls'];","module.exports = flarum.core.compat['tags/common/models/Tag'];","module.exports = flarum.core.compat['tags/components/TagDiscussionModal'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["Model","mixin","BlogMeta","_mixin","_inheritsLoose","apply","arguments","discussion","hasOne","featuredImage","attribute","summary","isFeatured","isSized","isPendingReview","publishDate","default","compat","ArticleSubscription","BlogCategories","BlogAuthor","BlogItemSidebar","BlogOverviewItem","BlogPostController","Composer","ComposerPreview","FeaturedBlogItem","ForumNav","Language","LanguageDropdown","BlogPostSettingsModal","RenameArticleModal","BlogItem","BlogOverview","Object","assign","extend","TextEditor","TextEditorButton","prototype","items","_this","add","m","onclick","selection","attrs","composer","editor","getSelectionRange","insertAt","icon","app","translator","trans","insertAtCursor","Component","Button","extractText","Tooltip","_Component","_proto","view","currentSubscriptionState","subscription","preferences","session","user","notifyEmail","notifyTooltip","title","text","position","className","saveSubscription","bind","indexOf","save","Link","oninit","vnode","call","blogCategories","forum","map","tagId","tag","store","getById","tags","showSubTags","length","slug","route","param","all","forEach","_tag","isChild","parent","push","categoryItem","concat","href","id","style","backgroundColor","color","name","BlogCrudeSide","htmlSidebar","trust","ItemList","listItems","avatar","author","loading","article","background","cover","coverUrl","backgroundImage","username","data","attributes","blogImage","src","alt","blogName","displayName","bio","toArray","itemlist","component","humanTime","classList","titleItems","_article$blogMeta","_article$blogMeta2","'['","blogMeta","isHidden","dataItems","_article$user","createdAt","commentCount","contentItems","_article$blogMeta3","getImage","_article$blogMeta4","_this$attrs","defaultImage","_article$blogMeta5","_this$attrs2","TagDiscussionModal","DiscussionControls","Alert","Dropdown","EditPostComposer","init","loadedPost","manageArticleButtons","LanguageDiscussionModal","flarum","extensions","components","canRename","modal","show","articlePost","firstPost","disabled","canEdit","load","post","canTag","then","alerts","type","response","handleErrors","canChangeLanguage","canLock","lockAction","isLocked","canHide","restoreAction","canDelete","confirm","history","getCurrent","previous","back","set","redraw","hideAction","_this2","label","buttonClassName","menuClassName","onshow","ComposerBody","_ComposerBody","previewContent","hasContent","fields","content","submitLabel","placeholder","preview","jumpToPreview","onchange","onsubmit","value","oncreate","s9e","TextFormatter","dom","topItems","_article$tags","isSticky","IndexPage","SelectDropdown","navItems","languages","options","reduce","o","lang","code","extra","language","uppercase","toUpperCase","selected","keys","key","defaultSelected","formatter","locale","isSelected","active","Modal","Stream","Switch","selectFiles","_Modal","meta","createRecord","isNew","exists","maxWidth","minWidth","width","minHeight","bidi","fofUploadButton","_require","require","_require$components","Uploader","FileManagerModal","uploader","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","onSelect","files","file","url","stop","marginTop","state","val","fontWeight","submitData","relationships","isComposer","e","preventDefault","pushData","hide","redirect","onChange","window","replaceState","document","override","UserCard","UserControls","AvatarEditor","getName","original","controls","badges","controlsButtonClassName","accessibleToggleLabel","editable","infoItems","Tag","Discussion","redirector","extendTagOverview","discussionRouting","BlogComposer","addSidebarNav","addPreferences","AddButtons","initializers","routes","blog","path","blogCategory","blogComposer","blogArticle","models","isBlog","Page","_Page","setTitle","bodyClass","articleLanguage","tagList","Array","isArray","split","foundTag","isSaving","openTagsModal","selectedTags","openNameArticleModal","_this3","openBlogSettings","_this4","pageItems","articleWrapperItems","articleItems","_this5","cursor","originalContent","create","marginRight","_this6","blogTags","findblogTags","filter","alert","getBy","setTimeout","CommentPost","PostStream","PostStreamState","fullTime","near","found","loadBlogItem","preloadBlogOverview","preloadedApiDocument","find","includedPosts","payload","included","articleId","record","sort","a","b","slice","stream","goToNumber","current","lastReadPostNumber","postItems","_this$article2","_this$article3","_this$article","_this$article$blogMet","_this$article4","fontSize","_this$article5","_this$article6","_app$session$user","_this$article7","_this$article8","_this$article9","opacity","posts","_this$article10","_this$article11","_this$article12","onPositionChange","positionChanged","hero","matches","startNumber","endNumber","isLoading","featuredPosts","currentSelectedLanguage","loadBlogOverview","featuredCount","parseInt","showCategories","showForumNav","scrollTimeout","scroll","innerWidth","console","log","t","getElementsByClassName","addEventListener","clearTimeout","once","onremove","vNode","direction","list","querySelector","item","maxScroll","scrollWidth","clientWidth","scrollAvailable","scrollLeft","featured","normal","entry","reloadData","normalQ","featuredQ","normalPromise","page","limit","q","featuredPromise","promises","Promise","values","articles","needed","splice","hasMore","newArticle","location","pathname","fill","undefined","currentCategory","join","FieldSet","SettingsPage","blogSettings","image","blogOptions","height","_callee2","promise","_callee2$","_context2","savePreferences","LinkButton","original_discussion_route","discussionRedirectEnabled","shouldRedirect","foundTags","TagsPage","markup","tag_tiles_parent","findChild","tag_tiles","children","tile","i","remove","childClass","recursive","maxDepth","depth","getChildren","child","_children$i","childClassName","includes","_iterator","_createForOfIteratorHelperLoose","_step","done","subParent","subChild","DiscussionPage","currentTag","tagRedirectEnabled","replace","contentType","multiple","resolve","input","createElement","accept","_","from","click","_typeof","module","exports","__esModule","r","n","hasOwnProperty","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","Generator","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","reverse","pop","charAt","rval","handle","complete","finish","_catch","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","gen","reject","_next","_throw","info","error","fn","self","args","err","subClass","superClass","_setPrototypeOf"],"sourceRoot":""}