{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/./src/forum/components/AddBadges.js","webpack://@v17development/flarum-blog/./src/forum/components/AddDiscussionControls.js","webpack://@v17development/flarum-blog/./src/forum/components/AddEditorButtons.js","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCrudeSide.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/./src/forum/components/UserCard.js","webpack://@v17development/flarum-blog/./src/forum/index.ts","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogList.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogPending.js","webpack://@v17development/flarum-blog/./src/forum/utils/addPreferences.js","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/forum/utils/selectFiles.ts","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SettingsPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditorButton']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/DiscussionListState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/GlobalSearchState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object"],"sourcesContent":["import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\n\nexport default class BlogMeta extends mixin(Model, {\n  discussion: Model.hasOne('discussion'),\n  featuredImage: Model.attribute('featuredImage'),\n  summary: Model.attribute('summary'),\n  isFeatured: Model.attribute('isFeatured'),\n  isSized: Model.attribute('isSized'),\n  isPendingReview: Model.attribute('isPendingReview'),\n  publishDate: Model.attribute('publishDate'),\n}) {}\n","import { compat } from '@flarum/core/forum';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport ArticleSubscription from './components/ArticleSubscription';\nimport BlogCategories from './components/BlogCategories';\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\nimport BlogOverviewItem from './components/BlogOverviewItem';\nimport BlogPostController from './components/BlogPostController';\nimport Composer from './components/Composer/Composer';\nimport ComposerPreview from './components/Composer/ComposerPreview';\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\nimport ForumNav from './components/ForumNav';\nimport Language from './components/LanguageDropdown/Language';\nimport LanguageDropdown from './components/LanguageDropdown/LanguageDropdown';\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\nimport BlogItem from './pages/BlogItem';\nimport BlogOverview from './pages/BlogOverview';\n\nexport default () => {\n  Object.assign(compat, {\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\n\n    'v17development/blog/components/Composer/Composer': Composer,\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\n\n    'v17development/blog/components/LanguageDropdown/Language': Language,\n    'v17development/blog/components/LanguageDropdown/LanguageDropdown': LanguageDropdown,\n\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\n\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\n    'v17development/blog/components/BlogCategories': BlogCategories,\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\n    'v17development/blog/components/BlogPostController': BlogPostController,\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\n    'v17development/blog/components/ForumNav': ForumNav,\n\n    'v17development/blog/pages/BlogItem': BlogItem,\n    'v17development/blog/pages/BlogOverview': BlogOverview,\n\n    'v17development/blog/models/BlogMeta': BlogMeta,\n  });\n};\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Badge from 'flarum/common/components/Badge';\n\nexport default function () {\n  extend(Discussion.prototype, 'badges', function (badges) {\n    if (this.tags()) {\n      const blogTags = app.forum.attribute('blogTags') || [];\n      const findblogTags = this.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0;\n      });\n      if (findblogTags.length == 0) {\n        return;\n      }\n      if (app.forum.attribute('canWriteBlogPosts')) {\n        badges.add('blog', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.blog')} icon=\"fas fa-newspaper\" type=\"blog\" />);\n\n        if (this.blogMeta() && this.blogMeta().isPendingReview() == true) {\n          if (Date.parse(this.blogMeta().publishDate())) {\n            badges.add('pending_date', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.pending_date')} icon=\"fas fa-calendar\" type=\"pending_date\" />);\n          } else {\n            badges.add('pending', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.pending')} icon=\"fas fa-clock\" type=\"pending\" />);\n          }\n        }\n        if (this.blogMeta() == false) {\n          badges.add('missing_meta', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.missing_meta')} icon=\"fas fa-store-slash\" type=\"missing_meta\" />);\n        }\n      }\n    }\n  });\n}","import { extend } from 'flarum/extend';\nimport app from 'flarum/forum/app';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport Button from 'flarum/common/components/Button';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default function () {\n    extend(DiscussionControls, 'userControls', function (items, discussion, context) {\n\n        // If the discussion is:\n        // - Not a discusion...yeah dont have a clue why\n        // - Is hidden\n        // - The blog extension is not enabled\n        // - This person cant write blogs\n        // Dont waste any time\n        if (!discussion || discussion.isHidden() || !'flarum-blog' in flarum.extensions || app.forum.attribute('canWriteBlogPosts') == false) {\n            return;\n        }\n\n        // Find the tags that are \"blog tags\", find if this blog has any of that tags\n        const blogTags = app.forum.attribute('blogTags') || [];\n        const findblogTags = discussion.tags().filter((tag) => {\n            return blogTags.indexOf(tag.id()) >= 0;\n        });\n        if (findblogTags.length == 0) {\n            return;\n        }\n\n        items.add('separator1', <li className=\"Dropdown-separator\" />, -10);\n        items.add(\n            'gotoBlog',\n            Button.component(\n                {\n                    icon: 'fas fa-newspaper',\n                    onclick: () => {\n                        m.route.set(app.route('blogArticle', {\n                            id: discussion.slug(),\n                        }));\n                    },\n                },\n                app.translator.trans('v17development-flarum-blog.forum.tools.goto_blog')\n            ), -10\n        );\n\n        items.add(\n            'articleSettings',\n            Button.component(\n                {\n                    className: 'Button',\n                    onclick: () => app.modal.show(BlogPostSettingsModal, { article:discussion }),\n                    icon: 'fas fa-cogs',\n                },\n                app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n            ),\n            -10\n        );\n\n        if (app.forum.attribute('canApproveBlogPosts') && (discussion.blogMeta() == false || discussion.blogMeta().isPendingReview())) {\n            let disabled = false;\n            let title = \"\";\n            if (discussion.blogMeta() == false) {\n                disabled = true;\n                title = app.translator.trans('v17development-flarum-blog.forum.tools.tooltip.missing_meta');\n            }\n            items.add(\n                'approve',\n                <Tooltip text={title}>\n                    <Button className='Button' icon='fas fa-thumbs-up' disabled={disabled} onclick={() => {\n                        discussion.blogMeta().save({\n                            isPendingReview: false,\n                        }).then(\n                            () => {\n                                app.alerts.show(\n                                    Alert,\n                                    { type: 'success' },\n                                    app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\n                                );\n                            },\n                            (response) => {\n                                this.loading = false;\n                                this.handleErrors(response);\n                            }\n                        );\n                    }}\n                    >\n                        {app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')}\n                    </Button>\n                </Tooltip>,\n                -10\n            );\n        }\n    });\n}","import { extend } from 'flarum/extend';\nimport TextEditor from 'flarum/components/TextEditor';\nimport TextEditorButton from 'flarum/components/TextEditorButton';\n\nexport default function () {\n    extend(TextEditor.prototype, 'toolbarItems', function (items) {\n        items.add('center', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/center]');\n                this.attrs.composer.editor.insertAt(selection[0], '[center]');\n            }} icon=\"fas fa-align-center\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.center_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('score', (\n            <TextEditorButton onclick={() => {\n                this.attrs.composer.editor.insertAtCursor('[score]50[/score]');\n            }} icon=\"far fa-star\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.score_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('review', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/review]');\n                this.attrs.composer.editor.insertAt(selection[0], '[review]');\n            }} icon=\"far fa-comment\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.review_tooltip')}\n            </TextEditorButton>\n        ),100);\n    });\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class ArticleSubscription extends Component {\n  view() {\n    const currentSubscriptionState = this.attrs.discussion.subscription();\n\n    const preferences = app.session.user.preferences();\n    const notifyEmail = preferences['notify_newPost_email'];\n    const notifyTooltip = extractText(\n      app.translator.trans(\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\n      )\n    );\n\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\n    let icon = 'far fa-star';\n\n    // Following\n    if (currentSubscriptionState === 'follow') {\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\n      icon = 'fas fa-star';\n    }\n\n    return (\n      <Tooltip text={notifyTooltip} position=\"bottom\">\n        <Button\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\n          icon={icon}\n          onclick={this.saveSubscription.bind(\n            this,\n            this.attrs.discussion,\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\n          )}\n        >\n          {title}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  saveSubscription(discussion, subscription) {\n    discussion.save({ subscription });\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogCategories extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.blogCategories = app.forum.attribute('blogTags');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogCategories BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\n\n        {this.blogCategories &&\n          this.blogCategories.map((tagId) => {\n            const tag = app.store.getById('tags', tagId);\n\n            if (!tag) return null;\n\n            const tags = [];\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\n\n            // Add tags\n            app.store.all('tags').forEach((_tag) => {\n              if (_tag.isChild() && _tag.parent() === tag) {\n                if (_tag.slug() === m.route.param('slug')) {\n                  showSubTags = true;\n                }\n\n                tags.push(this.categoryItem(_tag));\n              }\n            });\n\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\n          })}\n      </div>\n    );\n  }\n\n  // Category item\n  categoryItem(tag) {\n    return (\n      <Link\n        href={app.route('blogCategory', { slug: tag.slug() })}\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\n        }`}\n      >\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\n          <i className={tag.icon()} />\n        </span>\n        {tag.name()}\n      </Link>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\nexport default class BlogCrudeSide extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.htmlSidebar = app.forum.attribute('htmlSideBar');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogHtml\">\n        {m.trust(this.htmlSidebar)}\n      </div>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogAuthor extends Component {\n  view() {\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\n    var background = null;\n    if (author && author.cover()) {\n      let coverUrl = author.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n\n    return (\n      <div className={'FlarumBlog-Article-Author'}>\n        <div\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\n          style={{\n            backgroundColor: author && author.color() ? author.color() : null,\n            backgroundImage: background,\n          }}\n        />\n\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\n          {author ? (\n            <Link href={app.route('user', { username: author.username() })}>\n              {author.data.attributes.blogImage ? (\n                <img class=\"Avatar\" loading=\"lazy\" src={author.data.attributes.blogImage} alt=\"\"></img>\n              ) : (\n                avatar(author)\n              )}\n            </Link>\n          ) : (\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\n          )}\n        </div>\n\n        {author && (\n          <div className={'FlarumBlog-Article-Author-Info'}>\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\n\n              {author.data.attributes.blogName ? (\n                <div>\n                  <p>{author.data.attributes.blogName}</p>\n                  <small> {\"@\"+author.displayName()}</small>\n                </div>\n              ) : (\n                <div>\n                  {author.displayName()}\n                </div>\n              )}\n\n            </Link>\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\n          </div>\n        )}\n\n        {this.attrs.loading && (\n          <div>\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  items() {\n    return new ItemList();\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport BlogAuthor from './BlogAuthor';\nimport BlogCategories from '../BlogCategories';\nimport ForumNav from '../ForumNav';\n\nexport default class BlogItemSidebar extends Component {\n  view() {\n    return (\n      <div className={'FlarumBlog-Article-Sidebar'}>\n        <ul>{listItems(this.items().toArray())}</ul>\n      </div>\n    );\n  }\n\n  items() {\n    const itemlist = new ItemList();\n\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\n\n    itemlist.add('categories', BlogCategories.component(this.attrs), 0);\n\n    itemlist.add('nav', ForumNav.component(this.attrs), 0);\n\n    return itemlist;\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class BlogOverviewItem extends Component<Attrs> {\n  titleItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <>{article.title()}</>, 100);\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', icon('fas fa-eye-slash', { class: 'BlogList-item-hidden' }), 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}>\n          {icon('far fa-clock', { class: 'BlogList-item-pendingReview' })}\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogList-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogList-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName?.() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogList-item-details-replies\">\n        {icon('far fa-comment')} {(article.commentCount() || 1) - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  contentItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const summary = article.blogMeta()?.summary?.() || '';\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\n\n    if (summary) items.add('summary', <p>{summary}</p>, 80);\n\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\n\n    return items;\n  }\n\n  getImage(): string {\n    const { article, defaultImage } = this.attrs;\n\n    return article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = this.getImage();\n\n    const isSized = article.blogMeta()?.isSized?.();\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogList-item',\n          {\n            'BlogList-item-sized': isSized,\n            'BlogList-item-default': !isSized,\n          },\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\n        )}\n      >\n        <div\n          class={classList('BlogList-item-photo', {\n            'FlarumBlog-default-image': blogImage === defaultImage,\n          })}\n          style={{ backgroundImage: blogImage }}\n        />\n\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport RenameArticleModal from './Modals/RenameArticleModal';\nimport app from 'flarum/forum/app';\n\nexport default class BlogPostController extends Component {\n  init() {\n    this.loadedPost = false;\n  }\n\n  manageArticleButtons() {\n    const article = this.attrs.article;\n    const items = new ItemList();\n\n    // Working for GlowingBlue version\n    const LanguageDiscussionModal =\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\n        : null;\n\n    // Rename article\n    if (article.canRename()) {\n      items.add(\n        'rename',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\n            icon: 'fas fa-pencil-alt',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\n        ),\n        100\n      );\n    }\n\n    const articlePost = article.firstPost();\n\n    // Edit article\n    items.add(\n      'edit',\n      Button.component(\n        {\n          className: 'Button',\n          disabled: !articlePost || !articlePost.canEdit(),\n          onclick: () => {\n            app.composer.load(EditPostComposer, { post: articlePost });\n            app.composer.show();\n          },\n          icon: 'fas fa-edit',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\n      ),\n      90\n    );\n\n    // Article settings\n    items.add(\n      'articleSettings',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\n          icon: 'fas fa-cogs',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n      ),\n      80\n    );\n\n    // Update categories\n    if (article.canTag()) {\n      items.add(\n        'tag',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\n            icon: 'fas fa-tag',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\n        ),\n        70\n      );\n    }\n\n    // Approve article\n    if (article.blogMeta() && article.blogMeta().isPendingReview()) {\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\n\n      items.add(\n        'approve',\n        Button.component(\n          {\n            className: 'Button',\n            disabled: !app.forum.attribute('canApproveBlogPosts'),\n            onclick: () => {\n              article\n                .blogMeta()\n                .save({\n                  isPendingReview: false,\n                })\n                .then(\n                  () => {\n                    app.alerts.show(\n                      Alert,\n                      { type: 'success' },\n                      app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\n                    );\n                  },\n                  (response) => {\n                    this.loading = false;\n                    this.handleErrors(response);\n                  }\n                );\n            },\n            icon: 'fas fa-thumbs-up',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\n        ),\n        60\n      );\n    }\n\n    // Language\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\n      items.add(\n        'lang',\n        Button.component(\n          {\n            icon: 'fas fa-globe',\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\n          },\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\n        ),\n        50\n      );\n    }\n\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\n\n    // Lock article\n    if (article.canLock()) {\n      items.add(\n        'lock',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: DiscussionControls.lockAction.bind(article),\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\n          },\n          article.isLocked()\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\n        ),\n        30\n      );\n    }\n\n    // Hide/show/delete\n    if (article.canHide()) {\n      // Article is hidden\n      if (article.isHidden()) {\n        // Recover article\n        items.add(\n          'recover',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.restoreAction.bind(article),\n              icon: 'fas fa-eye',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\n          ),\n          20\n        );\n\n        // Delete article\n        if (article.canDelete()) {\n          items.add(\n            'delete',\n            Button.component(\n              {\n                className: 'Button',\n                onclick: () => {\n                  // Confirm deletion\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n                    // Redirect if the current page is an blog article\n                    if (app.history.getCurrent().name === 'blogArticle') {\n                      if (app.previous) {\n                        app.history.back();\n                      } else {\n                        m.route.set(app.route('blog'));\n                      }\n                    }\n\n                    return article.delete().then(() => {\n                      m.redraw();\n                    });\n                  }\n                },\n                icon: 'far fa-trash-alt',\n              },\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\n            ),\n            10\n          );\n        }\n      } else {\n        // Hide article\n        items.add(\n          'hide',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.hideAction.bind(article),\n              icon: 'fas fa-eye-slash',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\n          ),\n          0\n        );\n      }\n    }\n\n    return items;\n  }\n\n  view() {\n    const article = this.attrs.article;\n\n    const articlePost = article.firstPost();\n\n    return (\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\n          {Dropdown.component(\n            {\n              icon: 'fas fa-cog',\n              label: 'Manage',\n              buttonClassName: 'Button',\n              menuClassName: 'Dropdown-menu--right',\n              onshow: () => {\n                // Get post data to make sure they can edit the post\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\n                  this.loadedPost = true;\n                  m.redraw();\n                }\n              },\n            },\n            this.manageArticleButtons().toArray()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\nimport Button from 'flarum/common/components/Button';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport ComposerPreview from './ComposerPreview';\nimport app from 'flarum/forum/app';\n\nexport default class Composer extends ComposerBody {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.previewContent = false;\n  }\n\n  // Render\n  view() {\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\n    const loading = this.loading || this.attrs.disabled;\n\n    return (\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\n        <div className={'Flarum-Blog-Composer-tabs'}>\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\n          </Button>\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\n          </Button>\n        </div>\n\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\n          {this.previewContent && (\n            <div className={'Flarum-Blog-Composer-preview'}>\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\n\n              <ComposerPreview content={this.composer.fields.content()} />\n            </div>\n          )}\n\n          {TextEditor.component({\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\n            placeholder: this.attrs.placeholder,\n            disabled: loading,\n            composer: this.composer,\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\n            onchange: this.composer.fields.content,\n            onsubmit: this.onsubmit.bind(this),\n            value: this.composer.fields.content(),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Submit trigger\n  onsubmit() {\n    if (this.attrs.onsubmit) {\n      this.attrs.onsubmit();\n    }\n  }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class ComposerPreview extends Component {\n  view() {\n    return <div />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class FeaturedBlogItem extends Component<Attrs> {\n  topItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'tags',\n      <span class=\"BlogFeatured-list-item-tags\">\n        {article.tags()?.map((tag) => (\n          <span class=\"dataItem\">{tag.name()}</span>\n        ))}\n      </span>,\n      100\n    );\n\n    // Sticky is an optional dependency, so we can't\n    // assume method existence.\n    if (article.isSticky?.()) {\n      items.add('sticky', <span class=\"BlogFeatured-list-item-isSticky dataItem\">{icon('fas fa-thumbtack')}</span>, 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', <span class=\"BlogFeatured-list-item-isHidden dataItem\">{icon('fas fa-eye-slash')}</span>, 60);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      let title = app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title'); \n      let text = app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review');\n      let iconName = \"far fa-clock\";\n      if (Date.parse(article.blogMeta().publishDate())) {\n        title = app.translator.trans('v17development-flarum-blog.forum.review_article.withdraw_review_title');\n        text = app.translator.trans('v17development-flarum-blog.forum.review_article.withdraw_review');\n        iconName = \"far fa-calendar\";\n      }\n      items.add(\n        'pendingReview',\n        <Tooltip text={text} position=\"bottom\">\n          <span class=\"BlogFeatured-list-item-pendingReview dataItem\">\n            {icon(iconName)}  {title}\n          </span>\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogFeatured-list-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogFeatured-list-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogFeatured-list-item-details-replies\">\n        {icon('far fa-comment')} {article.commentCount() - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogFeatured-list-item',\n          article.tags().map((tag) => `BlogFeatured-list-item-category-${tag.id()}`),\n          'FlarumBlog-default-image'\n        )}\n        style={{ backgroundImage: blogImage }}\n      >\n        <div class=\"BlogFeatured-list-item-top\">{this.topItems().toArray()}</div>\n\n        <div className={'BlogFeatured-list-item-details'}>\n          <h4>{article.title()}</h4>\n\n          <div className={'data'}>{this.dataItems().toArray()}</div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport default class ForumNav extends Component {\n  view() {\n    return (\n      <div className=\"BlogForumNav BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\n        <nav className=\"IndexPage-nav sideNav\">\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\n            {this.navItems().toArray()}\n          </SelectDropdown>\n        </nav>\n      </div>\n    );\n  }\n\n  navItems() {\n    return IndexPage.prototype.navItems();\n  }\n}\n","import Component from 'flarum/common/Component';\n\nexport default class Language extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = (\n        <span>\n          <i className={'fas fa-globe'} /> {lang.name()}\n        </span>\n      );\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const { language, uppercase } = this.attrs;\n    const name = language.name() || '';\n\n    return (\n      <span>\n        <i className={'fas fa-globe'} />\n        &nbsp;\n        {uppercase ? name.toUpperCase() : name}\n      </span>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport Language from './Language';\n\nexport default class LanguageDropdown extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = <Language language={lang} />;\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const selected = this.attrs.selected;\n\n    return Dropdown.component(\n      {\n        buttonClassName: 'Button',\n        label: this.options[selected] || this.options[this.attrs.default],\n      },\n      Object.keys(this.options).map((key) => {\n        let defaultSelected;\n        if (app.forum.attribute('fof-discussion-language.composerLocaleDefault')) {\n          defaultSelected = 'any';\n        } else {\n          defaultSelected = app.translator.formatter.locale;\n        }\n        const isSelected = selected || defaultSelected;\n        const active = key === isSelected;\n\n        return Button.component(\n          {\n            active,\n            icon: active ? 'fas fa-check' : true,\n            onclick: () => this.attrs.onclick(key),\n          },\n          this.options[key]\n        );\n      })\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\nimport selectFiles from '../../utils/selectFiles';\n\nexport default class BlogPostSettingsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (this.attrs.article) {\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\n    } else {\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\n    }\n\n    this.isNew = !this.meta.exists;\n\n    this.summary = Stream(this.meta.summary() || '');\n\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\n\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\n    this.isSized = Stream(this.meta.isSized() || false);\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\n    this.publishDate = Stream(this.meta.publishDate() || '');\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'summary',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\n        <textarea\n          className=\"FormControl\"\n          style={{\n            maxWidth: '100%',\n            minWidth: '100%',\n            width: '100%',\n            minHeight: '120px',\n          }}\n          bidi={this.summary}\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\n        />\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\n      </div>,\n      30\n    );\n\n    let fofUploadButton = null;\n\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n      const {\n        components: { Uploader, FileManagerModal },\n      } = require('@fof-upload');\n\n      const uploader = new Uploader();\n\n      fofUploadButton = (\n        <Button\n          class=\"Button Button--icon\"\n          onclick={async () => {\n            app.modal.show(\n              FileManagerModal,\n              {\n                uploader: uploader,\n                onSelect: (files) => {\n                  const file = app.store.getById('files', files[0]);\n\n                  this.featuredImage(file.url());\n                },\n              },\n              true\n            );\n          }}\n          icon=\"fas fa-cloud-upload-alt\"\n        />\n      );\n    }\n\n    items.add(\n      'image',\n      <div className=\"Form-group V17Blog-ArticleImage\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\n        <div data-upload-enabled={!!fofUploadButton}>\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\n          {fofUploadButton}\n        </div>\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\n\n        {this.featuredImage() !== '' && (\n          <img\n            src={this.featuredImage()}\n            alt=\"Article image\"\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\n            style={{ width: '100%', marginTop: '15px' }}\n          />\n        )}\n      </div>,\n      30\n    );\n\n    items.add(\n      'sized',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isSized() == true,\n            onchange: (val) => {\n              this.isSized(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    items.add(\n      'featured',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isFeatured() == true,\n            onchange: (val) => {\n              this.isFeatured(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.featured.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.featured.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    if (app.forum.attribute('canApproveBlogPosts')) {\n      items.add(\n        'publishDate',\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.title')}:</label>\n          <input type=\"datetime-local\"\n            className=\"FormControl\"\n            bidi={this.publishDate}\n            placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate')}\n          />\n          <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.helper_text')}</small>\n        </div>,\n        -10\n      );\n    }\n\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      summary: this.summary(),\n      featuredImage: this.featuredImage(),\n      isFeatured: this.isFeatured(),\n      isSized: this.isSized(),\n      isPendingReview: this.isPendingReview(),\n      publishDate: Date.parse(this.publishDate()) ? this.publishDate() : null,\n\n      relationships:\n        this.isNew && !this.attrs.isComposer\n          ? {\n            discussion: this.attrs.article,\n          }\n          : null,\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // Submit data\n    if (this.attrs.onsubmit) {\n      // Update attributes\n      this.meta.pushData({\n        attributes: this.submitData(),\n      });\n\n      // Push\n      this.attrs.onsubmit(this.meta);\n\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n\n    this.meta.save(this.submitData()).then(\n      () => {\n        if (this.attrs.article) {\n          this.attrs.article.pushData({\n            relationships: {\n              blogMeta: this.meta,\n            },\n          });\n        }\n\n        this.hide();\n        m.redraw();\n      },\n      (response) => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n}\n","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class RenameArticleModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.article = this.attrs.article;\n\n    this.name = Stream(this.article.title() || '');\n\n    this.redirect = this.attrs.redirect;\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.name(),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Do not save\n    if (this.attrs.onChange) {\n      this.attrs.onChange(this.name());\n      this.hide();\n\n      return;\n    }\n\n    this.article\n      .save({\n        title: this.name(),\n      })\n      .then(\n        () => {\n          this.hide();\n\n          // Redirect\n          if (this.redirect) {\n            const url = `/blog/${this.article.slug()}`;\n\n            m.route.set(url, true);\n            window.history.replaceState(null, document.title, url);\n          }\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","import { override } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\n\n\nimport app from 'flarum/forum/app';\nimport UserControls from 'flarum/forum/utils/UserControls';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Link from 'flarum/common/components/Link';\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\nimport listItems from 'flarum/common/helpers/listItems';\nimport classList from 'flarum/common/utils/classList';\n\nfunction getName(user) {\n  let name = app.translator.trans('core.lib.username.deleted_text');\n  if (user && user.displayName()) {\n    name = user.displayName();\n  }\n  if (user.data.attributes.blogName) {\n    name += \" | \" + user.data.attributes.blogName;\n  }\n  return <span className=\"username\">{name}</span>;\n}\n\nexport default function () {\n  override(UserCard.prototype, 'view', function (original) {\n    const user = this.attrs.user;\n    const controls = UserControls.controls(user, this).toArray();\n    const color = user.color();\n    const badges = user.badges().toArray();\n    var background = null;\n\n    //We are doing a override...so...\n    if (this.attrs.user.cover()) {\n      let coverUrl = this.attrs.user.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n    return (\n      <div className={classList('UserCard', this.attrs.className)} style={color && { '--usercard-bg': color, '--background-image':  background}}>\n        <div className=\"darkenBackground\">\n          <div className=\"container\">\n            {!!controls.length && (\n              <Dropdown\n                className=\"UserCard-controls App-primaryControl\"\n                menuClassName=\"Dropdown-menu--right\"\n                buttonClassName={this.attrs.controlsButtonClassName}\n                label={app.translator.trans('core.forum.user_controls.button')}\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\n                icon=\"fas fa-ellipsis-v\"\n              >\n                {controls}\n              </Dropdown>\n            )}\n\n            <div className=\"UserCard-profile\">\n              <h1 className=\"UserCard-identity\">\n                {this.attrs.editable ? (\n                  <>\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" />\n                    {getName(user)}\n                  </>\n                ) : (\n                  <Link href={app.route.user(user)}>\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\n                    {getName(user)}\n                  </Link>\n                )}\n              </h1>\n\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\n\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n}","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/common/models/Tag';\nimport Discussion from 'flarum/common/models/Discussion';\nimport IndexPage from 'flarum/forum/components/IndexPage';\n\nimport BlogOverview from './pages/BlogOverview';\nimport redirector from './utils/redirector';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport extendTagOverview from './utils/extendTagOverview';\nimport discussionRouting from './utils/discussionRouting';\nimport BlogComposer from './pages/BlogComposer';\nimport compat from './compat';\nimport addSidebarNav from './utils/addSidebarNav';\n\nimport BlogItem from './pages/BlogItem';\nimport addPreferences from './utils/addPreferences';\nimport UserCard from './components/UserCard';\nimport AddDiscussionControls from './components/AddDiscussionControls';\nimport AddEditorButtons from './components/AddEditorButtons';\nimport AddBadges from './components/AddBadges';\nimport BlogPending from './pages/BlogPending';\nimport BlogList from './pages/BlogList';\n\n\n// Register Flarum Blog\napp.initializers.add(\n  'v17development-flarum-blog',\n  (app) => {\n    app.routes.blog = { path: '/blog', component: BlogOverview };\n\n    app.routes.blogCategory = {\n      path: '/blog/category/:slug',\n      component: BlogOverview,\n    };\n\n    app.routes.blogComposer = {\n      path: '/blog/compose',\n      component: BlogComposer,\n    };\n\n    app.routes.blogPending = {\n      path: '/blog/pending',\n      component: IndexPage,\n    };\n\n    app.routes.blogList = {\n      path: '/blog/list',\n      component: IndexPage,\n    };\n\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\n\n    app.routes['blogArticle.near'] = {\n      path: '/blog/:id/:near',\n      component: BlogItem,\n    };\n\n    app.store.models.blogMeta = BlogMeta;\n\n    Discussion.prototype.blogMeta = Model.hasOne<BlogMeta>('blogMeta');\n    Tag.prototype.isBlog = Model.attribute<boolean>('isBlog');\n\n    // Redirect discussions/tags to their blog post/overview\n    redirector();\n\n    // Extend tag overview.\n    // Hide tags which are used as blog category\n    extendTagOverview();\n\n    // Make that blog articles have a blog route and not a discussion route\n    discussionRouting();\n\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\n    addSidebarNav();\n\n    addPreferences();\n    UserCard();\n\n    AddEditorButtons();\n    AddDiscussionControls();\n    AddBadges();\n    \n    BlogPending();\n    BlogList();\n  },\n  -100000\n);\n\ncompat();\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\nimport Composer from '../components/Composer/Composer';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default class BlogComposer extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // User cannot write blogs\n    if (!app.forum.attribute('canWriteBlogPosts')) {\n      m.route.set(app.route('blog'));\n      return;\n    }\n\n    // Send history push\n    app.history.push('blogComposer');\n\n    // Get languages (if enabled)\n    this.languages = app.store.all('discussion-languages') || [];\n\n    // Set body class\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\n\n    // Article data\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\n    this.article = app.store.createRecord('discussions');\n    this.blogMeta = null;\n\n    this.tags = [];\n\n    // Pre-select tags\n    if (m.route.param().tags) {\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\n\n      if (m.route.param().tags.length > 0) {\n        tagList.forEach((tagId) => {\n          const foundTag = app.store.getById('tags', tagId);\n\n          if (foundTag) {\n            this.tags.push(foundTag);\n          }\n        });\n      }\n    }\n\n    this.isSaving = false;\n  }\n\n  openTagsModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: this.tags,\n      onsubmit: (tags) => {\n        this.tags = tags;\n      },\n    });\n  }\n\n  openNameArticleModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(RenameArticleModal, {\n      article: this.article,\n      onChange: (title) => {\n        this.article.pushData({\n          attributes: {\n            title,\n          },\n        });\n      },\n    });\n  }\n\n  openBlogSettings(e) {\n    e.preventDefault();\n\n    if (this.isSaving) return;\n\n    app.modal.show(BlogPostSettingsModal, {\n      meta: this.blogMeta,\n      onsubmit: (meta) => (this.blogMeta = meta),\n    });\n  }\n\n  view() {\n    return (\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>{this.pageItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  pageItems() {\n    const items = new ItemList();\n\n    items.add(\n      'toolButtons',\n      <div className=\"FlarumBlog-ToolButtons\">\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\n          <i class=\"icon fas fa-angle-left Button-icon\" />\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n        </Link>\n      </div>,\n      100\n    );\n\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\n\n    return items;\n  }\n\n  articleWrapperItems() {\n    const items = new ItemList();\n\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\n\n    items.add(\n      'sidebar',\n      <div className=\"FlarumBlog-Article-Sidebar\">\n        <BlogAuthor user={app.session.user} />\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\n\n    items.add(\n      'content',\n      <div className=\"FlarumBlog-Article-Content\">\n        <div\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\n          style={{\n            backgroundImage: blogImage,\n            cursor: 'pointer',\n          }}\n          onclick={(e) => this.openBlogSettings(e)}\n        />\n\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown selected={this.articleLanguage} onclick={(language) => (this.articleLanguage = language)} />\n            )}\n\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\n            </Button>\n          </div>\n        </div>\n\n        {/* Article Categories */}\n        <div className={'FlarumBlog-Article-Categories'}>\n          {this.tags.map((tag) => (\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n              {tag.name()}\n            </button>\n          ))}\n\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n            {this.tags.length === 0\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\n            <i className={'fas fa-edit'} />\n          </button>\n        </div>\n\n        <div className={'FlarumBlog-Article-Post'}>\n          {/* Article name */}\n          <h1 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\n            {this.article && this.article.title() && this.article.title() !== ''\n              ? this.article.title()\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\n\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\n              <i className={'fas fa-edit'} />\n            </button>\n          </h1>\n\n          <div className=\"Post-body\">\n            <Composer\n              composer={app.composer}\n              originalContent={''}\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\n              onsubmit={() => this.create()}\n              disabled={this.isSaving}\n            />\n          </div>\n        </div>\n      </div>,\n      100\n    );\n\n    items.add(\n      'commentsPlaceholder',\n      <div className=\"FlarumBlog-Article-Comments\">\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\n        {/* Locked */}\n\n        <div className=\"Post-body\">\n          <blockquote class=\"uncited\">\n            <div>\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\n            </div>\n          </blockquote>\n        </div>\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  create() {\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    // Force tags\n    if (this.tags.length === 0) {\n      this.openTagsModal();\n      return;\n    }\n\n    // Force title\n    if (!this.article.title() || this.article.title() === '') {\n      this.openNameArticleModal();\n      return;\n    }\n\n    // Find blog tags\n    const findblogTags = this.tags.filter((tag) => {\n      return blogTags.indexOf(tag.id()) >= 0;\n    });\n\n    // No blog tags selected\n    if (findblogTags.length === 0) {\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\n      return;\n    }\n\n    if (\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\n    ) {\n      return;\n    }\n\n    let relationships = {\n      tags: this.tags,\n    };\n\n    // Add languages if possible\n    if (this.languages.length > 0) {\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\n    }\n\n    const data = {\n      title: this.article.title(),\n      content: app.composer.fields.content(),\n      relationships,\n      blogMeta:\n        this.blogMeta !== null\n          ? {\n              featuredImage: this.blogMeta.featuredImage(),\n              summary: this.blogMeta.summary(),\n              isSized: this.blogMeta.isSized(),\n            }\n          : null,\n    };\n\n    this.isSaving = true;\n\n    this.article\n      .save(data)\n      .then((article) => {\n        setTimeout(() => {\n          // Redirect to the article\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\n        }, 500);\n      })\n      .catch(() => {\n        this.isSaving = false;\n        m.redraw();\n      });\n  }\n}\n","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostStream from 'flarum/forum/components/PostStream';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport BlogPostController from '../components/BlogPostController';\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\nimport Link from 'flarum/common/components/Link';\nimport BlogOverview from './BlogOverview';\nimport fullTime from 'flarum/common/helpers/fullTime';\nimport ArticleSubscription from '../components/ArticleSubscription';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/forum/app';\n\nexport default class BlogItem extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // Send history push\n    app.history.push('blogArticle');\n\n    this.bodyClass = 'BlogItemPage';\n\n    this.near = m.route.param('near') || 0;\n\n    this.loading = true;\n    this.found = false;\n    this.article = null;\n\n    this.loadBlogItem();\n  }\n\n  // Load blog overview\n  loadBlogItem() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      app.store\n        .find('discussions', m.route.param('id').split('-')[0])\n        .then(this.show.bind(this))\n        .catch(() => {\n          m.redraw();\n        });\n    }\n\n    m.redraw();\n  }\n\n  // Show blog post\n  show(article) {\n    // Set article data\n    this.article = article;\n\n    // Update title\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\n\n    this.loading = false;\n\n    let includedPosts = [];\n    if (article.payload && article.payload.included) {\n      const articleId = article.id();\n\n      includedPosts = article.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            record.relationships.discussion.data.id === articleId\n        )\n        .map((record) => app.store.getById('posts', record.id))\n        .sort((a, b) => a.id() - b.id())\n        .slice(0, 20);\n    }\n\n    this.stream = new PostStreamState(article, includedPosts);\n\n    // Scroll to specific post\n    if (this.near) {\n      this.stream.goToNumber(this.near || 0, true).then(() => {\n        app.current.set('discussion', article);\n        app.current.set('stream', this.stream);\n      });\n    }\n\n    // Read post on load\n    if (app.session.user && !article.lastReadPostNumber()) {\n      article.save({ lastReadPostNumber: 1 });\n    }\n\n    m.redraw();\n  }\n\n  postItems() {\n    let articlePost = null;\n\n    if (!this.loading && this.article) {\n      articlePost = this.article?.firstPost?.();\n    }\n\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <h1\n        className={classList('FlarumBlog-Article-Title', {\n          'FlarumBlog-Article-GhostTitle': this.loading,\n        })}\n      >\n        {this?.article?.title?.() || 'Ghost title'}\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\n      </h1>,\n      100\n    );\n\n    items.add(\n      'publishDate',\n      <div\n        className={classList('FlarumBlog-Article-PublishDate', {\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\n        })}\n      >\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\n      </div>,\n      80\n    );\n\n    if (this.loading) {\n      items.add(\n        'skeleton',\n        [0, 1, 2].map(() => (\n          <div>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p>&nbsp;</p>\n          </div>\n        )),\n        60\n      );\n    }\n\n    if (!this.loading) {\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\n        let text = app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review');\n        let iconName = \"far fa-clock\";\n        if (Date.parse(this.article.blogMeta().publishDate())) {\n          text = app.translator.trans('v17development-flarum-blog.forum.review_article.withdraw_review');\n          iconName = \"far fa-calendar\";\n        }\n\n        items.add(\n          'review',\n          <div className={'Post-body'}>\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\n              <div>\n                {icon(iconName, { style: { marginRight: '5px' } })}{' '}\n                {text}\n              </div>\n            </blockquote>\n          </div>,\n          60\n        );\n      }\n      if (articlePost) {\n        items.add('post', <CommentPost post={articlePost} />, 40);\n      }\n    }\n\n    return items;\n  }\n\n  contentItems() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl')}/assets/${app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.article?.blogMeta()?.featuredImage?.() ? `url(${this.article.blogMeta().featuredImage()})` : defaultImage;\n\n    const items = new ItemList();\n\n    items.add(\n      'image',\n      <div\n        className={classList('FlarumBlog-Article-Image FlarumBlog-default-image', { 'FlarumBlog-Article-GhostImage': this.loading })}\n        style={{\n          backgroundImage: blogImage,\n          opacity: this.article?.isHidden?.() ? 0.4 : null,\n        }}\n      />,\n      100\n    );\n\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\n    }\n\n    // Article Categories\n    items.add(\n      'categories',\n      <div className=\"FlarumBlog-Article-Categories\">\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\n\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\n      </div>,\n      60\n    );\n\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\n\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\n      items.add(\n        'comments',\n        <div className={'FlarumBlog-Article-Comments'}>\n          {/* Show subscription state */}\n          {!this.loading &&\n            app.session.user &&\n            this.article.subscription &&\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\n\n          <h4>\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\n          </h4>\n\n          {/* Locked */}\n          {!this.loading && this.article?.isLocked?.() && (\n            <div className={'Post-body'}>\n              <blockquote class=\"uncited\">\n                <div>\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\n                </div>\n              </blockquote>\n            </div>\n          )}\n\n          {!this.loading &&\n            this.article &&\n            PostStream.component({\n              discussion: this.article,\n              stream: this.stream,\n              onPositionChange: this.positionChanged.bind(this),\n            })}\n        </div>,\n        75\n      );\n    }\n\n    return items;\n  }\n\n  view() {\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>\n          <div className={'FlarumBlog-ToolButtons'}>\n            <Link\n              href={app.route('blog')}\n              className={'Button'}\n              onclick={(e) => {\n                if (app.previous.matches(BlogOverview)) {\n                  e.preventDefault();\n                  history.back();\n                }\n              }}\n            >\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n            </Link>\n          </div>\n          <div className={'FlarumBlog-Article'}>\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\n\n            <BlogItemSidebar article={this.article} loading={this.loading} />\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  positionChanged(startNumber, endNumber) {\n    const article = this.article;\n\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\n      article.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport GlobalSearchState from 'flarum/forum/states/GlobalSearchState';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        const params = app.search.stickyParams();\n\n        items.add(\n            'blogList',\n            <LinkButton href={app.route('blogList', params)} icon=\"fas fa-newspaper\">\n                {app.translator.trans('v17development-flarum-blog.forum.articles')}\n            </LinkButton>,\n            50\n        );\n    });\n\n    extend(IndexPage.prototype, 'setTitle', function () {\n        if (app.current.get('routeName') === 'blogList') {\n            app.setTitle(app.translator.trans('v17development-flarum-blog.forum.articles'));\n        }\n    });\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        if (typeof params.include === 'string') {\n            params.include = [params.include];\n        } else {\n            params.include?.push('blogMeta', 'firstPost', 'user');\n        }\n        if (app.current.get('routeName') === 'blogList') {\n            params.filter = params.filter ?? {};\n            params.filter.blog = 1;\n        }\n    });\n}","import app from 'flarum/forum/app';\n\nimport IndexPage from 'flarum/components/IndexPage';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport BlogCategories from '../components/BlogCategories';\nimport Link from 'flarum/common/components/Link';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ForumNav from '../components/ForumNav';\nimport BlogOverviewItem from '../components/BlogOverviewItem';\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\nimport BlogCrudeSide from '../components/BlogCrudeSide';\n\nexport default class BlogOverview extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    this.bodyClass = 'BlogOverviewPage';\n\n    this.isLoading = true;\n    this.featuredPosts = [];\n    this.posts = [];\n\n    this.languages = app.store.all('discussion-languages');\n\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    // Send history push\n    app.history.push('blog');\n\n    this.loadBlogOverview();\n\n    this.featuredCount = parseInt(app.forum.attribute('blogFeaturedCount'));\n\n    this.showCategories = true;\n    this.showForumNav = true;\n\n\n    this.scrollTimeout = setTimeout(this.scroll.bind(this, 1), 5000);\n\n    //Yeah...hacky as fuck, but i dont know any other way\n    if (window.innerWidth <= 799) {\n      console.log(\"mobile\");\n      var t = this;\n      setTimeout(function () {\n        if (document.getElementsByClassName('BlogFeatured-list')) {\n          document.getElementsByClassName('BlogFeatured-list')[0].addEventListener('touchmove', function () {\n            clearTimeout(t.scrollTimeout);\n          }, { once: true });\n        }\n      }, 1024);\n    }\n  }\n  onremove(vNode) {\n    clearTimeout(this.scrollTimeout);\n  }\n\n  scroll(direction) {\n    clearTimeout(this.scrollTimeout);\n    let list = document.querySelector('.BlogFeatured-list');\n    let item = document.querySelector('.BlogFeatured-list-item');\n    let maxScroll = list.scrollWidth - list.clientWidth;\n    let scrollAvailable = maxScroll - list.scrollLeft;\n\n    if (direction > 0 && scrollAvailable < item.clientWidth) {\n      list.scrollLeft = 0;\n    }\n\n    switch (true) {\n      case direction > 0 && scrollAvailable < item.clientWidth:\n        list.scrollLeft = 0;\n        break;\n      case direction < 0 && scrollAvailable == maxScroll:\n        list.scrollLeft = maxScroll;\n        break;\n      default:\n        list.scrollLeft += direction * (item.clientWidth + 20);\n        break;\n    }\n\n    this.scrollTimeout = setTimeout(this.scroll.bind(this, 1), 5000);\n  }\n\n  // Load blog overview\n  loadBlogOverview() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n    if (preloadBlogOverview && Array.isArray(preloadBlogOverview) && preloadBlogOverview.length > 0) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      let featured = [];\n      let normal = [];\n      preloadBlogOverview.forEach(entry => {\n        if (entry.data.attributes.isFeatured) {\n          featured.push(entry);\n        } else {\n          normal.push(entry);\n        };\n      });\n      setTimeout(this.show.bind(this, normal, featured), 0);\n    } else {\n      this.reloadData();\n    }\n\n    m.redraw();\n  }\n\n  reloadData() {\n    let normalQ = `-is:featured is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n    let featuredQ = `is:featured is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n\n    if (this.languages !== null && this.languages.length >= 1) {\n      normalQ += ` language:${this.currentSelectedLanguage}`;\n      featuredQ += ` language:${this.currentSelectedLanguage}`;\n    }\n    this.isLoading = true;\n    let normalPromise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 23,\n      },\n      filter: {\n        q: normalQ,\n      },\n      sort: '-createdAt',\n    });\n    let featuredPromise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 15,\n      },\n      filter: {\n        q: featuredQ,\n      },\n      sort: '-createdAt',\n    });\n    let promises = [\n      normalPromise,\n      featuredPromise,\n    ];\n    Promise.all(promises).then(values => {\n      setTimeout(this.show.bind(this, values[0], values[1]), 0);\n    });\n  }\n\n  // Show blog posts\n  show(articles, featured) {\n    if (articles.length === 0 && featured.length === 0) {\n      this.isLoading = false;\n      m.redraw();\n      return;\n    }\n    if (featured.length < 3) {\n      let needed = 3 - featured.length;\n      featured = featured.concat(articles.splice(0, needed));\n    }\n    if (articles.length > 20) {\n      articles.splice(19);\n    }\n\n    // Set pagination\n    this.hasMore = false;\n\n    this.featuredPosts = featured;\n    this.posts = articles;\n\n    this.isLoading = false;\n\n    m.redraw();\n  }\n\n  title() {\n    if (!m.route.param('slug')) {\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\n    }\n\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\n\n    return (\n      <h2>\n        {tag && tag[0] && tag[0].name()}\n        <small>\n          {' '}\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\n        </small>\n      </h2>\n    );\n  }\n\n  view() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogOverview'}>\n        <div className={'container'}>\n          <div className={'BlogFeatured'}>\n            <div className={'BlogOverviewButtons'}>\n              {app.forum.attribute('canWriteBlogPosts') && (\n                <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\n                </Button>\n              )}\n\n              {this.languages !== null && this.languages.length >= 1 && (\n                <LanguageDropdown\n                  selected={this.currentSelectedLanguage}\n                  onclick={(language) => {\n                    this.currentSelectedLanguage = language;\n\n                    m.route.set(document.location.pathname, {\n                      lang: language,\n                    });\n\n                    this.reloadData();\n                  }}\n                />\n              )}\n            </div>\n\n            {this.title()}\n\n            <div class=\"BlogFeatured-carousel\">\n              <Button className={'Button BlogFeatured-button'} onclick={() => this.scroll(-1)} icon={'fas fa-arrow-left'}> </Button>\n              <div class=\"BlogFeatured-list\">\n                {/* Ghost data */}\n                {this.isLoading &&\n                  [...new Array(3).fill(undefined)].map(() => (\n                    <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\n                      <div class=\"BlogFeatured-list-item-details\">\n                        <h4>&nbsp;</h4>\n\n                        <div class=\"data\">\n                          <span>\n                            <i class=\"far fa-wave\" />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n\n                {!this.isLoading &&\n                  this.featuredPosts.length >= 0 &&\n                  this.featuredPosts.map(\n                    (article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />\n                  )}\n              </div>\n              <Button className={'Button BlogFeatured-button'} onclick={() => this.scroll(1)} icon={'fas fa-arrow-right'}> </Button>\n            </div>\n          </div>\n\n          <div className={'BlogScrubber'}>\n            <div className={'BlogList'}>\n              {this.isLoading &&\n                [false, false, true, false].map((state) => {\n                  return (\n                    <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\n                      <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\n                      <div className={'BlogList-item-content'}>\n                        <h4>&nbsp;</h4>\n                        <p>&nbsp;</p>\n\n                        <div className={'data'}>\n                          <span>\n                            <i className={'far fa-wave'} />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n\n              {!this.isLoading &&\n                this.posts.length >= 1 &&\n                this.posts.map((article) => <BlogOverviewItem article={article} defaultImage={defaultImage} />)}\n            </div>\n\n            <div className={'Sidebar'}>\n              {<BlogCrudeSide />}\n              {this.showCategories && <BlogCategories />}\n              {this.showForumNav && <ForumNav />}\n            </div>\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  newArticle() {\n    let tags = [];\n\n    // Get current category\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\n\n    if (currentCategory) {\n      tags.push(currentCategory);\n    }\n\n    // Redirect to the composer\n    m.route.set(\n      app.route('blogComposer', {\n        tags: tags.map((tag) => tag.id()).join(),\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\n      })\n    );\n  }\n}\n","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport GlobalSearchState from 'flarum/forum/states/GlobalSearchState';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        if (app.session.user && app.forum.attribute('canApproveBlogPosts')) {\n            const params = app.search.stickyParams();\n\n            items.add(\n                'blogPending',\n                <LinkButton href={app.route('blogPending', params)} icon=\"fas fa-clock\">\n                    {app.translator.trans('v17development-flarum-blog.forum.pending')}\n                </LinkButton>,\n                50\n            );\n        }\n    });\n\n    extend(IndexPage.prototype, 'setTitle', function () {\n        if (app.current.get('routeName') === 'blogPending') {\n            app.setTitle(app.translator.trans('v17development-flarum-blog.forum.pending'));\n        }\n    });\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        if (typeof params.include === 'string') {\n            params.include = [params.include];\n        } else {\n            params.include?.push('blogMeta', 'firstPost', 'user');\n        }\n        if (app.current.get('routeName') === 'blogPending') {\n            params.filter = params.filter ?? {};\n            params.filter.blogpending = 1;\n        }\n    });\n}","import app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport { extend, override } from 'flarum/common/extend';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport SettingsPage from 'flarum/common/components/SettingsPage';\nimport Stream from 'flarum/common/utils/Stream';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Alert from 'flarum/common/components/Alert';\n\nexport default function () {\n\n    extend(SettingsPage.prototype, 'oninit', function () {\n        //I dont have a fucking clue why it need to be here and not in the \"settingsItems\" extend\n        this.blogSettings = {\n            name: Stream(this.user.preferences().blogName || null),\n            image: Stream(this.user.preferences().blogImage || null)\n        }\n    });\n    extend(SettingsPage.prototype, 'settingsItems', function (items) {\n        if (app.forum.attribute('canWriteBlogPosts') == false) {\n            return;\n        }\n        items.add(\n            'blog-options',\n            FieldSet.component(\n                {\n                    label: app.translator.trans('v17development-flarum-blog.forum.user_settings.settings'),\n                    className: 'blog-settings',\n                },\n                this.blogOptions().toArray()\n            )\n        );\n    });\n\n    SettingsPage.prototype['blogOptions'] = function () {\n        let fofUploadButton = null;\n        if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n            const { components: { Uploader, FileManagerModal }, } = require('@fof-upload');\n            const uploader = new Uploader();\n            fofUploadButton = (\n                <Button class=\"Button Button--icon\" onclick={async () => {\n                    app.modal.show(\n                        FileManagerModal,\n                        {\n                            uploader: uploader,\n                            onSelect: (files) => {\n                                this.blogSettings.image(app.store.getById('files', files[0]).url());\n                                console.log(this.blogSettings);\n                            },\n                        },\n                        true\n                    );\n                }}\n                    icon=\"fas fa-cloud-upload-alt\"\n                />\n            );\n        }\n\n        const items = new ItemList();\n        items.add(\n            'blog-name',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.name')}:</label>\n                <input type=\"text\" className=\"FormControl\" bidi={this.blogSettings.name}></input>\n            </div>,\n        );\n        items.add(\n            'blog-image',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.image')}:</label>\n                <div style=\"display:flex\">\n                    <input type=\"text\" className=\"FormControl\" placeholder=\"https://\" bidi={this.blogSettings.image} />\n                    {fofUploadButton}\n                </div>\n\n\n                <img src={this.blogSettings.image()} height=\"100\" />\n            </div>,\n        );\n        items.add(\n            'blog-save',\n            <Button class=\"Button\" onclick={async () => {\n                let promise = this.user.savePreferences({ blogName: this.blogSettings.name, blogImage: this.blogSettings.image });\n                promise.then(function () {\n                    m.redraw();\n                    app.alerts.show(Alert, { type: 'success' }, app.translator.trans('v17development-flarum-blog.forum.user_settings.save_alert'));\n                });\n            }}>\n                {app.translator.trans('v17development-flarum-blog.forum.user_settings.save')}\n            </Button>\n        );\n        return items;\n    };\n}","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\n      items.add(\n        'blog',\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\n        </LinkButton>,\n        15\n      );\n    }\n    /*\n    if (app.forum.attribute('canWriteBlogPosts')) {\n      var blogsP = app.search.stickyParams();\n      blogsP.filter = {\n        q: \"is:blog\"\n      };\n      items.add(\n        'articles',\n        <LinkButton href={app.route('index', blogsP)} icon=\"far fa-newspaper\">\n          {app.translator.trans('v17development-flarum-blog.forum.articles')}\n        </LinkButton>,\n        -10\n      );\n    }\n    if (app.forum.attribute('canApproveBlogPosts')) {\n      var pendingP = app.search.stickyParams();\n      pendingP.filter = {\n        q: \"is:pending\"\n      };\n      items.add(\n        'pending',\n        <LinkButton href={app.route('index', pendingP)} icon=\"fas fa-check-double\">\n          {app.translator.trans('v17development-flarum-blog.forum.pending')}\n        </LinkButton>,\n        -10\n      );\n    }\n    */\n    return items;\n  });\n}\n","export default function () {\n  // Save the original function before we override it\n  const original_discussion_route = app.route.discussion;\n\n  /**\n   * Generate a URL to a discussion OR a Blog Article.\n   *\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\n   * It will try to keep the original function executed if the discussion being\n   * processed isn't a blog article.\n   *\n   * @param {Discussion} discussion\n   * @param {Integer} [near]\n   * @return {String}\n   */\n  app.route.discussion = (discussion, near) => {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n    let shouldRedirect = false;\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      if (foundTags.length > 0) {\n        shouldRedirect = true;\n      }\n    }\n    if (shouldRedirect) {\n      return discussion.lastReadPostNumber() > 1\n        ? app.route('blogArticle.near', {\n            id: discussion.slug(),\n            near: discussion.lastReadPostNumber(),\n          })\n        : app.route('blogArticle', {\n            id: discussion.slug(),\n          });\n    } else {\n      return original_discussion_route(discussion, near);\n    }\n  };\n}\n","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nexport default function extendTagOverview() {\n  extend(TagsPage.prototype, 'view', function (markup) {\n    // Pending xhr to load all tags, throw back loading indicator.\n    if (this.loading) {\n      return markup;\n    }\n\n    if (app.forum.attribute('blogHideTags') == false) return markup;\n\n    // Get blog tag ID's\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    const tag_tiles_parent = findChild(markup, 'TagsPage-content', true);\n    const tag_tiles = tag_tiles_parent?.children[0];\n\n    if (!tag_tiles_parent || !tag_tiles) return markup;\n\n    // Map through the tiles and remove tiles that are part of the blog\n    tag_tiles.children = tag_tiles.children.map((tile, i) => {\n      return blogTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\n    });\n\n    return markup;\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogHideTags') == false) return items;\n\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    blogTags.forEach((id) => {\n      items.remove(`tag${id}`);\n    });\n\n    return items;\n  });\n}\n\nfunction findChild(parent, childClass, recursive = false, maxDepth = 50, depth = 0) {\n  const children = getChildren(parent);\n  let child = null;\n\n  for (let i = 0; i < children.length; i++) {\n    const childClassName = children[i]?.attrs?.className || '';\n    if (childClassName.includes(childClass)) {\n      child = children[i];\n      break;\n    }\n  }\n\n  // Recursive search\n  if (recursive && !child && depth < maxDepth) {\n    for (let subParent of children) {\n      const subChild = findChild(subParent, childClass, true, maxDepth, depth + 1);\n      if (subChild) {\n        return subChild;\n      }\n    }\n  }\n\n  return child;\n}\n\nfunction getChildren(parent) {\n  if (Array.isArray(parent)) {\n    return parent;\n  }\n  const children = parent?.children || [];\n  if (!Array.isArray(children)) {\n    return [];\n  }\n  return children;\n}\n","import IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Redirect tag to blog category\n  extend(IndexPage.prototype, 'oncreate', function () {\n    const tag = this.currentTag();\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\n\n    // Only trigger when it's a tag page and the redirects are enabled\n    if (tag && tagRedirectEnabled) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      // Tag is inside list\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\n        m.route.set(app.route('blog'));\n      }\n    }\n  });\n\n  // Redirect discussion to blog article\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      // Only redirect if the discussion has blog tags\n      if (foundTags.length > 0) {\n        // Redirect to blog article\n        const url = app.route('blogArticle', {\n          id: discussion.slug(),\n        });\n\n        m.route.set(url, null, { replace: true });\n\n        return null;\n      }\n    }\n\n    return original(discussion);\n  });\n}\n","/**\n * Asynchronously select file(s).\n *\n * @param contentType The content type of files you wish to select. For instance, use \"image/*\" to select all types of images.\n * @param multiple Indicates if the user can select multiple files.\n * @returns A promise of a file or array of files in case the multiple parameter is true.\n */\nfunction selectFiles(contentType: string, multiple: false): Promise<File>;\nfunction selectFiles(contentType: string, multiple: true): Promise<File[]>;\n\nfunction selectFiles(contentType: string, multiple: boolean): Promise<File | File[]> {\n  return new Promise((resolve) => {\n    let input = document.createElement('input');\n    input.type = 'file';\n    input.multiple = multiple;\n    input.accept = contentType;\n\n    input.onchange = (_) => {\n      let files = Array.from(input.files || []);\n      if (multiple) resolve(files);\n      else resolve(files[0]);\n    };\n\n    input.click();\n  });\n}\n\nexport default selectFiles;\n","module.exports = flarum.core;","module.exports = flarum.extensions['fof-upload'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Alert'];","module.exports = flarum.core.compat['common/components/Badge'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/FieldSet'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LinkButton'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/components/Page'];","module.exports = flarum.core.compat['common/components/SelectDropdown'];","module.exports = flarum.core.compat['common/components/SettingsPage'];","module.exports = flarum.core.compat['common/components/Switch'];","module.exports = flarum.core.compat['common/components/TextEditor'];","module.exports = flarum.core.compat['common/components/Tooltip'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/fullTime'];","module.exports = flarum.core.compat['common/helpers/humanTime'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/listItems'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/models/Discussion'];","module.exports = flarum.core.compat['common/utils/ItemList'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['common/utils/extractText'];","module.exports = flarum.core.compat['common/utils/mixin'];","module.exports = flarum.core.compat['components/IndexPage'];","module.exports = flarum.core.compat['components/TextEditor'];","module.exports = flarum.core.compat['components/TextEditorButton'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/AvatarEditor'];","module.exports = flarum.core.compat['forum/components/CommentPost'];","module.exports = flarum.core.compat['forum/components/ComposerBody'];","module.exports = flarum.core.compat['forum/components/DiscussionPage'];","module.exports = flarum.core.compat['forum/components/EditPostComposer'];","module.exports = flarum.core.compat['forum/components/IndexPage'];","module.exports = flarum.core.compat['forum/components/PostStream'];","module.exports = flarum.core.compat['forum/components/UserCard'];","module.exports = flarum.core.compat['forum/states/DiscussionListState'];","module.exports = flarum.core.compat['forum/states/GlobalSearchState'];","module.exports = flarum.core.compat['forum/states/PostStreamState'];","module.exports = flarum.core.compat['forum/utils/DiscussionControls'];","module.exports = flarum.core.compat['forum/utils/UserControls'];","module.exports = flarum.core.compat['tags/common/models/Tag'];","module.exports = flarum.core.compat['tags/components/TagDiscussionModal'];","module.exports = flarum.core.compat['tags/components/TagsPage'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["Model","mixin","BlogMeta","_mixin","_inheritsLoose","apply","arguments","discussion","hasOne","featuredImage","attribute","summary","isFeatured","isSized","isPendingReview","publishDate","default","compat","ArticleSubscription","BlogCategories","BlogAuthor","BlogItemSidebar","BlogOverviewItem","BlogPostController","Composer","ComposerPreview","FeaturedBlogItem","ForumNav","Language","LanguageDropdown","BlogPostSettingsModal","RenameArticleModal","BlogItem","BlogOverview","Object","assign","app","extend","Discussion","Badge","prototype","badges","tags","blogTags","forum","findblogTags","filter","tag","indexOf","id","length","add","m","label","translator","trans","icon","type","blogMeta","Date","parse","DiscussionControls","Button","Tooltip","items","context","_this","isHidden","flarum","extensions","className","component","onclick","route","set","slug","modal","show","article","disabled","title","text","save","then","alerts","Alert","response","loading","handleErrors","TextEditor","TextEditorButton","selection","attrs","composer","editor","getSelectionRange","insertAt","insertAtCursor","Component","extractText","_Component","_proto","view","currentSubscriptionState","subscription","preferences","session","user","notifyEmail","notifyTooltip","position","saveSubscription","bind","Link","oninit","vnode","call","blogCategories","map","tagId","store","getById","showSubTags","param","all","forEach","_tag","isChild","parent","push","categoryItem","concat","href","style","backgroundColor","color","name","BlogCrudeSide","htmlSidebar","trust","ItemList","listItems","avatar","author","background","cover","coverUrl","backgroundImage","username","data","attributes","blogImage","src","alt","blogName","displayName","bio","toArray","itemlist","humanTime","classList","titleItems","_article$blogMeta","_article$blogMeta2","'['","dataItems","_article$user","createdAt","commentCount","contentItems","_article$blogMeta3","getImage","_article$blogMeta4","_this$attrs","defaultImage","_article$blogMeta5","_this$attrs2","TagDiscussionModal","Dropdown","EditPostComposer","init","loadedPost","manageArticleButtons","LanguageDiscussionModal","components","canRename","articlePost","firstPost","canEdit","load","post","canTag","canChangeLanguage","canLock","lockAction","isLocked","canHide","restoreAction","canDelete","confirm","history","getCurrent","previous","back","redraw","hideAction","_this2","buttonClassName","menuClassName","onshow","ComposerBody","_ComposerBody","previewContent","hasContent","fields","content","submitLabel","placeholder","preview","jumpToPreview","onchange","onsubmit","value","oncreate","s9e","TextFormatter","dom","topItems","_article$tags","isSticky","iconName","IndexPage","SelectDropdown","navItems","languages","options","reduce","o","lang","code","extra","language","uppercase","toUpperCase","selected","keys","key","defaultSelected","formatter","locale","isSelected","active","Modal","Stream","Switch","selectFiles","_Modal","meta","createRecord","isNew","exists","maxWidth","minWidth","width","minHeight","bidi","fofUploadButton","_require","require","_require$components","Uploader","FileManagerModal","uploader","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","onSelect","files","file","url","stop","marginTop","state","val","fontWeight","submitData","relationships","isComposer","e","preventDefault","pushData","hide","redirect","onChange","window","replaceState","document","override","UserCard","UserControls","AvatarEditor","getName","original","controls","controlsButtonClassName","accessibleToggleLabel","editable","infoItems","Tag","redirector","extendTagOverview","discussionRouting","BlogComposer","addSidebarNav","addPreferences","AddDiscussionControls","AddEditorButtons","AddBadges","BlogPending","BlogList","initializers","routes","blog","path","blogCategory","blogComposer","blogPending","blogList","blogArticle","models","isBlog","Page","_Page","setTitle","bodyClass","articleLanguage","tagList","Array","isArray","split","foundTag","isSaving","openTagsModal","selectedTags","openNameArticleModal","_this3","openBlogSettings","_this4","pageItems","articleWrapperItems","articleItems","_this5","cursor","originalContent","create","marginRight","_this6","alert","getBy","setTimeout","CommentPost","PostStream","PostStreamState","fullTime","near","found","loadBlogItem","preloadBlogOverview","preloadedApiDocument","find","includedPosts","payload","included","articleId","record","sort","a","b","slice","stream","goToNumber","current","lastReadPostNumber","postItems","_this$article2","_this$article3","_this$article","_this$article$blogMet","_this$article4","fontSize","_this$article5","_this$article6","_app$session$user","_this$article7","_this$article8","_this$article9","opacity","posts","_this$article10","_this$article11","_this$article12","onPositionChange","positionChanged","hero","matches","startNumber","endNumber","LinkButton","DiscussionListState","GlobalSearchState","params","search","stickyParams","get","include","_params$include","_params$filter","isLoading","featuredPosts","currentSelectedLanguage","loadBlogOverview","featuredCount","parseInt","showCategories","showForumNav","scrollTimeout","scroll","innerWidth","console","log","t","getElementsByClassName","addEventListener","clearTimeout","once","onremove","vNode","direction","list","querySelector","item","maxScroll","scrollWidth","clientWidth","scrollAvailable","scrollLeft","featured","normal","entry","reloadData","normalQ","featuredQ","normalPromise","page","limit","q","featuredPromise","promises","Promise","values","articles","needed","splice","hasMore","newArticle","location","pathname","fill","undefined","currentCategory","join","blogpending","FieldSet","SettingsPage","blogSettings","image","blogOptions","height","_callee2","promise","_callee2$","_context2","savePreferences","original_discussion_route","discussionRedirectEnabled","shouldRedirect","foundTags","TagsPage","markup","tag_tiles_parent","findChild","tag_tiles","children","tile","i","remove","childClass","recursive","maxDepth","depth","getChildren","child","_children$i","childClassName","includes","_iterator","_createForOfIteratorHelperLoose","_step","done","subParent","subChild","DiscussionPage","currentTag","tagRedirectEnabled","replace","contentType","multiple","resolve","input","createElement","accept","_","from","click","_typeof","module","exports","__esModule","r","n","hasOwnProperty","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","Generator","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","isGeneratorFunction","constructor","setPrototypeOf","__proto__","awrap","async","reverse","pop","charAt","rval","handle","complete","finish","_catch","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","asyncGeneratorStep","gen","reject","_next","_throw","info","error","fn","self","args","err","subClass","superClass","_setPrototypeOf"],"sourceRoot":""}