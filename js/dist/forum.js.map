{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/Language.js","webpack://@v17development/flarum-blog/./src/forum/components/LanguageDropdown/LanguageDropdown.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/./src/forum/components/Carousel.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogTop.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCrude.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogSide.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Select']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/FieldSet']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SettingsPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/UserCard']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/UserControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/AvatarEditor']\"","webpack://@v17development/flarum-blog/./src/forum/components/UserCard.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditor']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/TextEditorButton']\"","webpack://@v17development/flarum-blog/./src/forum/components/AddEditorButtons.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/DiscussionListState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/GlobalSearchState']\"","webpack://@v17development/flarum-blog/./src/forum/index.ts","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js","webpack://@v17development/flarum-blog/./src/forum/utils/addPreferences.js","webpack://@v17development/flarum-blog/./src/forum/components/AddDiscussionControls.js","webpack://@v17development/flarum-blog/./src/forum/components/AddBadges.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogPending.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogList.js","webpack://@v17development/flarum-blog/./src/forum/pages/ThreadsList.js"],"sourcesContent":["module.exports = flarum.extensions['fof-upload'];","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw new Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","import Component from 'flarum/common/Component';\n\nexport default class Language extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = (\n        <span>\n          <i className={'fas fa-globe'} /> {lang.name()}\n        </span>\n      );\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const { language, uppercase } = this.attrs;\n    const name = language.name() || '';\n\n    return (\n      <span>\n        <i className={'fas fa-globe'} />\n        &nbsp;\n        {uppercase ? name.toUpperCase() : name}\n      </span>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Button from 'flarum/common/components/Button';\nimport Language from './Language';\n\nexport default class LanguageDropdown extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.languages = app.store.all('discussion-languages');\n    this.options = this.languages.reduce((o, lang) => {\n      o[lang.code()] = <Language language={lang} />;\n\n      return o;\n    }, this.attrs.extra || {});\n  }\n\n  view() {\n    const selected = this.attrs.selected;\n\n    return Dropdown.component(\n      {\n        buttonClassName: 'Button',\n        label: this.options[selected] || this.options[this.attrs.default],\n      },\n      Object.keys(this.options).map((key) => {\n        let defaultSelected;\n        if (app.forum.attribute('fof-discussion-language.composerLocaleDefault')) {\n          defaultSelected = 'any';\n        } else {\n          defaultSelected = app.translator.formatter.locale;\n        }\n        const isSelected = selected || defaultSelected;\n        const active = key === isSelected;\n\n        return Button.component(\n          {\n            active,\n            icon: active ? 'fas fa-check' : true,\n            onclick: () => this.attrs.onclick(key),\n          },\n          this.options[key]\n        );\n      })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class BlogOverviewItem extends Component<Attrs> {\n  titleItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const items = new ItemList<Mithril.Children>();\n    items.add('title', <>{article.title()}</>, 100);\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const items = new ItemList<Mithril.Children>();\n    items.add(\n      'createdAt',\n      <span class=\"BlogList-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n    return items;\n  }\n\n  contentItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const summary = article.blogMeta()?.summary?.() || '';\n    const items = new ItemList<Mithril.Children>();\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\n    if (summary) {\n      items.add('summary', <p class=\"summary\">{summary}</p>, 80)\n    };\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\n\n    return items;\n  }\n\n  getImage(): string {\n    const { article, defaultImage } = this.attrs;\n\n    return article.blogMeta()?.featuredImage?.() ? article.blogMeta().featuredImage() : defaultImage;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = this.getImage();\n\n    const isSized = article.blogMeta()?.isSized?.();\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogList-item',\n          {\n            'BlogList-item-sized': isSized,\n            'BlogList-item-default': !isSized,\n          },\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\n        )}\n      >\n        {blogImage !== defaultImage &&\n          <div class={classList('BlogList-item-photo')}>\n            <img src={blogImage} />\n          </div>\n        }\n\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class FeaturedBlogItem extends Component<Attrs> {\n  topItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const items = new ItemList<Mithril.Children>();\n    items.add(\n      'tags',\n      <span class=\"BlogFeatured-item-tags\">\n        {article.tags()?.map((tag) => (\n          <span class=\"dataItem\">{tag.name()}</span>\n        ))}\n      </span>,\n      100\n    );\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const items = new ItemList<Mithril.Children>();\n    items.add(\n      'createdAt',\n      <span class=\"BlogFeatured-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n    return items;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n    return (\n      <Link href={app.route('blogArticle', {id: `${article.slug()}`,})}\n        className={classList(\n          'BlogFeatured-item',\n          article.tags().map((tag) => `BlogFeatured-item-category-${tag.id()}`),\n          'FlarumBlog-default-image'\n        )}\n        style={{ backgroundImage: blogImage }}\n      >\n        <div class=\"BlogFeatured-item-top\">{this.topItems().toArray()}</div>\n\n        <div className={'BlogFeatured-item-details'}>\n          <h4>{article.title()}</h4>\n\n          <div className={'data'}>{this.dataItems().toArray()}</div>\n        </div>\n      </Link>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","import CommentPost from 'flarum/forum/components/CommentPost';\nimport { extend } from 'flarum/common/extend';\nimport BlogTop from './BlogTop';\n\nexport default function carousel() {\n    extend(CommentPost.prototype, 'oncreate', function (vnode) {\n        this.element.querySelectorAll('.carousel').forEach((node) => {\n            initialCarousel(node);\n        });\n    });\n\n    function initialCarousel(carousel) {\n        var interval = setInterval(() => {\n            moveCarousel(carousel, 1);\n        }, 2048)\n\n        let buttons = carousel.querySelectorAll('.carousel-button');\n        buttons.item(0).onclick = () => {\n            clearInterval(interval);\n            moveCarousel(carousel, -1)\n        };\n        buttons.item(1).onclick = () => {\n            clearInterval(interval);\n            moveCarousel(carousel, 1)\n        };\n    }\n\n    function moveCarousel(carousel, direction) {\n        let list = carousel.querySelector('.carousel-list');\n        let item = carousel.querySelector('.carousel-list > *');\n        let maxScroll = list.scrollWidth - list.clientWidth;\n        let scrollAvailable = maxScroll - list.scrollLeft;\n        let widthToMove = item.clientWidth + 5;\n\n        if (direction > 0 && scrollAvailable < widthToMove) {\n            list.scrollLeft = 0;\n        }\n\n        switch (true) {\n            // Go the first item if is the max\n            case direction > 0 && scrollAvailable < widthToMove:\n                list.scrollLeft = 0;\n                break;\n            // Go the last item if is the min\n            case direction < 0 && scrollAvailable >= maxScroll - widthToMove/4:\n                list.scrollLeft = maxScroll;\n                break;\n            default:\n                list.scrollLeft += (direction * (widthToMove) * 1);\n                break;\n        }\n    }\n\n    return {\n        initialCarousel: initialCarousel\n    };\n}","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\nimport Button from 'flarum/common/components/Button';\nimport carousel from './Carousel';\n\nexport default class BlogTop extends Component {\n    oninit(vnode) {\n        super.oninit(vnode);\n\n        this.isLoading = true;\n        this.articles = [];\n        this.languages = app.store.all('discussion-languages');\n        this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n        this.loadArticles();\n    }\n\n    // Load blog overview\n    loadArticles() {\n        this.reloadData();\n        m.redraw();\n    }\n\n    reloadData() {\n        let query = 'blog:1';\n        if (this.languages !== null && this.languages.length >= 1) {\n            query += ` language:${this.currentSelectedLanguage}`;\n        }\n        this.isLoading = true;\n        let promise = app.store.find('discussions', {\n            page: {\n                page: 1,\n                limit: 12,\n            },\n            filter: {\n                q: query,\n            },\n            sort: '-createdAt',\n        });\n        promise.then(values => {\n            this.articles = values;\n            this.isLoading = false;\n            carousel().initialCarousel(document.querySelector('.carousel'));\n            m.redraw();\n        });\n    }\n\n    view() {\n        const defaultImage = app.forum.attribute('blogDefaultImage')\n        return (\n            <>\n                {!this.isLoading &&\n                    this.articles?.length >= 1 &&\n                    this.articles.slice(0,3).map((article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />\n                )}\n                <div class=\"carousel\">\n                    <Button className={'Button carousel-button'} icon={'fas fa-arrow-left'}> </Button>\n                    <div class=\"carousel-list\">\n                        {/* Ghost data */}\n                        {this.isLoading && [...new Array(4).fill(undefined)].map(() => (\n                            <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\n                                <div class=\"BlogFeatured-list-item-details\">\n                                    <h4>&nbsp;</h4>\n                                    <div class=\"data\">\n                                        <span>\n                                            <i class=\"far fa-wave\" />\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        ))}\n\n                        {!this.isLoading &&\n                            this.articles?.length >= 4 &&\n                            this.articles.slice(3).map((article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />\n                        )}\n                    </div>\n                    <Button className={'Button carousel-button'} icon={'fas fa-arrow-right'}> </Button>\n                </div>\n            </>\n        );\n    }\n}","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\n\nexport default class BlogCrude extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    this.htmlSidebar = app.forum.attribute('htmlSideBar');\n  }\n\n  view() {\n    return (\n      <>\n        {m.trust(this.htmlSidebar)}\n      </>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport BlogCrude from './BlogCrude';\n\nexport default class BlogSide extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.isLoading = true;\n    this.articles = [];\n    this.languages = app.store.all('discussion-languages');\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    this.loadArticles();\n  }\n\n  // Load blog overview\n  loadArticles() {\n    this.reloadData();\n    m.redraw();\n  }\n\n  reloadData() {\n    let query = 'blog:2';\n    if (this.languages !== null && this.languages.length >= 1) {\n      query += ` language:${this.currentSelectedLanguage}`;\n    }\n    this.isLoading = true;\n    let promise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 11,\n      },\n      filter: {\n        q: query,\n      },\n      sort: '-createdAt',\n    });\n    promise.then(values => {\n      if (this.attrs.article) {\n        values = values.filter((v) => v.id() != this.attrs.article.id());\n      } else {\n        values = values.slice(0, 10);\n      }\n      this.articles = values;\n      this.isLoading = false;\n      m.redraw();\n    });\n  }\n\n  view() {\n    return (\n      <div className=\"BlogSide\">\n        <ul>\n          {!this.isLoading && this.articles.length >= 1 && this.articles.map((article) =>\n            <li>\n              <Link href={app.route('blogArticle', { id: article.slug() })}>\n                {article.title()}\n              </Link>\n            </li>\n          )}\n        </ul>\n        <BlogCrude/>\n      </div>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport IndexPage from 'flarum/components/IndexPage';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport BlogOverviewItem from '../components/BlogOverviewItem';\nimport BlogTop from '../components/BlogTop';\nimport BlogSide from '../components/BlogSide';\n\nexport default class BlogOverview extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    this.bodyClass = 'BlogOverviewPage';\n\n    this.compactedView = localStorage.getItem('blog-compacted-view') ?? false;\n    this.isLoading = true;\n    this.articles = [];\n    this.languages = app.store.all('discussion-languages');\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    // Send history push\n    app.history.push('blog');\n    this.loadArticles();\n  }\n\n  // Load blog overview\n  loadArticles() {\n    this.reloadData();\n    m.redraw();\n  }\n\n  reloadData() {\n    let query = 'blog:0';\n    if (this.languages !== null && this.languages.length >= 1) {\n      query += ` language:${this.currentSelectedLanguage}`;\n    }\n    this.isLoading = true;\n    let promise = app.store.find('discussions', {\n      page: {\n        page: 1,\n        limit: 20,\n      },\n      filter: {\n        q: query,\n      },\n      sort: '-createdAt',\n    });\n    promise.then(values => {\n      if (values.length === 0) {\n        this.isLoading = false;\n        m.redraw();\n        return;\n      }\n      this.articles = values;\n      this.isLoading = false;\n      this.biggerArticles = this.articles.filter((arti) => arti.blogMeta()?.isSized?.());\n      if (this.biggerArticles.length % 2 != 0) {\n        this.articles.pop();\n      }\n      m.redraw();\n    });\n  }\n\n  title() {\n    if (!m.route.param('slug')) {\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\n    }\n\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\n\n    return (\n      <h2>\n        {tag && tag[0] && tag[0].name()}\n        <small>\n          {' '}\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\n        </small>\n      </h2>\n    );\n  }\n\n  view() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogOverview'}>\n        <div className={'container'}>\n          <div className={'BlogOverviewButtons'}>\n            {app.forum.attribute('canWriteBlogPosts') && (\n              <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\n                {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\n              </Button>\n            )}\n\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown\n                selected={this.currentSelectedLanguage}\n                onclick={(language) => {\n                  this.currentSelectedLanguage = language;\n\n                  m.route.set(document.location.pathname, {\n                    lang: language,\n                  });\n\n                  this.reloadData();\n                }}\n              />\n            )}\n          </div>\n          <div class=\"FlarumBlogTitle\">\n            {this.title()}\n            <div class=\"FlarumBlogCompressButtons\">\n              <i class={`fas fa-compress  ${this.compactedView === true ? 'fa-expand' : 'fa-compress'}`} onclick={() => {\n                this.compactedView = !this.compactedView;\n                localStorage.setItem('blog-compacted-view', this.compactedView)\n              }}></i>\n\n            </div>\n          </div>\n          <div class={`FlarumBlogGrid ${this.compactedView === true ? 'FlarumBlogGridCompact' : ''}`}>\n            {<BlogTop />}\n            {this.isLoading && [false, false, false, false, false].map((state) => {\n              return (\n                <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\n                  <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\n                  <div className={'BlogList-item-content'}>\n                    <h4>&nbsp;</h4>\n                    <p>&nbsp;</p>\n\n                    <div className={'data'}>\n                      <span>\n                        <i className={'far fa-wave'} />\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n\n            {!this.isLoading && this.articles.length >= 1 && this.articles.map((article) =>\n              <BlogOverviewItem article={article} defaultImage={defaultImage}\n              />)}\n\n            {<BlogSide />}\n          </div>\n          <div class=\"Form--centered\">\n            <Link href={app.route('blogList')} className={'FlarumBlog-reached-load-more'}>\n              <Button class={'Button'}>\n                {app.translator.trans('v17development-flarum-blog.forum.read_more')}\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    ];\n  }\n\n  newArticle() {\n    let tags = [];\n\n    // Get current category\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\n\n    if (currentCategory) {\n      tags.push(currentCategory);\n    }\n\n    // Redirect to the composer\n    m.route.set(\n      app.route('blogComposer', {\n        tags: tags.map((tag) => tag.id()).join(),\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\n      })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/mixin'];","import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\n\nexport default class BlogMeta extends mixin(Model, {\n  discussion: Model.hasOne('discussion'),\n  featuredImage: Model.attribute('featuredImage'),\n  summary: Model.attribute('summary'),\n  position: Model.attribute('position'),\n  isSized: Model.attribute('isSized'),\n  isPendingReview: Model.attribute('isPendingReview'),\n  publishDate: Model.attribute('publishDate'),\n}) {}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagsPage'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nexport default function extendTagOverview() {\n  extend(TagsPage.prototype, 'view', function (markup) {\n    // Pending xhr to load all tags, throw back loading indicator.\n    if (this.loading) {\n      return markup;\n    }\n\n    if (app.forum.attribute('blogHideTags') == false) return markup;\n\n    // Get blog tag ID's\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    const tag_tiles_parent = findChild(markup, 'TagsPage-content', true);\n    const tag_tiles = tag_tiles_parent?.children[0];\n\n    if (!tag_tiles_parent || !tag_tiles) return markup;\n\n    // Map through the tiles and remove tiles that are part of the blog\n    tag_tiles.children = tag_tiles.children.map((tile, i) => {\n      return blogTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\n    });\n\n    return markup;\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogHideTags') == false) return items;\n\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    blogTags.forEach((id) => {\n      items.remove(`tag${id}`);\n    });\n\n    return items;\n  });\n}\n\nfunction findChild(parent, childClass, recursive = false, maxDepth = 50, depth = 0) {\n  const children = getChildren(parent);\n  let child = null;\n\n  for (let i = 0; i < children.length; i++) {\n    const childClassName = children[i]?.attrs?.className || '';\n    if (childClassName.includes(childClass)) {\n      child = children[i];\n      break;\n    }\n  }\n\n  // Recursive search\n  if (recursive && !child && depth < maxDepth) {\n    for (let subParent of children) {\n      const subChild = findChild(subParent, childClass, true, maxDepth, depth + 1);\n      if (subChild) {\n        return subChild;\n      }\n    }\n  }\n\n  return child;\n}\n\nfunction getChildren(parent) {\n  if (Array.isArray(parent)) {\n    return parent;\n  }\n  const children = parent?.children || [];\n  if (!Array.isArray(children)) {\n    return [];\n  }\n  return children;\n}\n","export default function () {\n  // Save the original function before we override it\n  const original_discussion_route = app.route.discussion;\n\n  /**\n   * Generate a URL to a discussion OR a Blog Article.\n   *\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\n   * It will try to keep the original function executed if the discussion being\n   * processed isn't a blog article.\n   *\n   * @param {Discussion} discussion\n   * @param {Integer} [near]\n   * @return {String}\n   */\n  app.route.discussion = (discussion, near) => {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n    let shouldRedirect = false;\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      if (foundTags.length > 0) {\n        shouldRedirect = true;\n      }\n    }\n    if (shouldRedirect) {\n      return discussion.lastReadPostNumber() > 1\n        ? app.route('blogArticle.near', {\n            id: discussion.slug(),\n            near: discussion.lastReadPostNumber(),\n          })\n        : app.route('blogArticle', {\n            id: discussion.slug(),\n          });\n    } else {\n      return original_discussion_route(discussion, near);\n    }\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogAuthor extends Component {\n  view() {\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\n    var background = null;\n    if (author && author.cover()) {\n      let coverUrl = author.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n\n    return (\n      <div className={'FlarumBlog-Article-Author'}>\n        <div\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\n          style={{\n            backgroundColor: author && author.color() ? author.color() : null,\n            backgroundImage: background,\n          }}\n        />\n\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\n          {author ? (\n            <Link href={app.route('user', { username: author.username() })}>\n              {author.data.attributes.blogImage ? (\n                <img class=\"Avatar\" loading=\"lazy\" src={author.data.attributes.blogImage} alt=\"\"></img>\n              ) : (\n                avatar(author)\n              )}\n            </Link>\n          ) : (\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\n          )}\n        </div>\n\n        {author && (\n          <div className={'FlarumBlog-Article-Author-Info'}>\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\n\n              {author.data.attributes.blogName ? (\n                <div>\n                  <p>{author.data.attributes.blogName}</p>\n                  <small> {\"@\"+author.displayName()}</small>\n                </div>\n              ) : (\n                <div>\n                  {author.displayName()}\n                </div>\n              )}\n\n            </Link>\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\n          </div>\n        )}\n\n        {this.attrs.loading && (\n          <div>\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  items() {\n    return new ItemList();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class RenameArticleModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.article = this.attrs.article;\n\n    this.name = Stream(this.article.title() || '');\n\n    this.redirect = this.attrs.redirect;\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.name(),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Do not save\n    if (this.attrs.onChange) {\n      this.attrs.onChange(this.name());\n      this.hide();\n\n      return;\n    }\n\n    this.article\n      .save({\n        title: this.name(),\n      })\n      .then(\n        () => {\n          this.hide();\n\n          // Redirect\n          if (this.redirect) {\n            const url = `/blog/${this.article.slug()}`;\n\n            m.route.set(url, true);\n            window.history.replaceState(null, document.title, url);\n          }\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagDiscussionModal'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Select'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\nimport Select from 'flarum/common/components/Select';\n\nexport default class BlogPostSettingsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (this.attrs.article) {\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\n    } else {\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\n    }\n\n    this.isNew = !this.meta.exists;\n\n    this.summary = Stream(this.meta.summary() || '');\n\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\n\n    this.positionOptions = {\n      0: 'Normal',\n      1: 'Destacada',\n      2: 'Rapida'\n    };\n    this.position = Stream(this.meta.position() || 0);\n    this.isSized = Stream(this.meta.isSized() || false);\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\n    this.publishDate = Stream(this.meta.publishDate() || '');\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'summary',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\n        <textarea\n          className=\"FormControl\"\n          style={{\n            maxWidth: '100%',\n            minWidth: '100%',\n            width: '100%',\n            minHeight: '120px',\n          }}\n          bidi={this.summary}\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\n        />\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\n      </div>,\n      30\n    );\n\n    let fofUploadButton = null;\n\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n      const {\n        components: { Uploader, FileManagerModal },\n      } = require('@fof-upload');\n\n      const uploader = new Uploader();\n\n      fofUploadButton = (\n        <Button\n          class=\"Button Button--icon\"\n          onclick={async () => {\n            app.modal.show(\n              FileManagerModal,\n              {\n                uploader: uploader,\n                onSelect: (files) => {\n                  const file = app.store.getById('files', files[0]);\n\n                  this.featuredImage(file.url());\n                },\n              },\n              true\n            );\n          }}\n          icon=\"fas fa-cloud-upload-alt\"\n        />\n      );\n    }\n\n    items.add(\n      'image',\n      <div className=\"Form-group V17Blog-ArticleImage\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\n        <div data-upload-enabled={!!fofUploadButton}>\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\n          {fofUploadButton}\n        </div>\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\n\n        {this.featuredImage() !== '' && (\n          <img\n            src={this.featuredImage()}\n            alt=\"Article image\"\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\n            style={{ width: '100%', marginTop: '15px' }}\n          />\n        )}\n      </div>,\n      30\n    );\n\n    items.add(\n      'sized',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isSized() == true,\n            onchange: (val) => {\n              this.isSized(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    items.add(\n      'position',\n      <div className=\"Form-group\">\n\n        {Select.component(\n          {\n            options: this.positionOptions,\n            value: this.position(),\n            onchange: (id) => {\n              this.position(id);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.position.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.position.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    if (app.forum.attribute('canApproveBlogPosts')) {\n      items.add(\n        'publishDate',\n        <div className=\"Form-group\">\n          <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.title')}:</label>\n          <input type=\"datetime-local\"\n            className=\"FormControl\"\n            bidi={this.publishDate}\n            placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate')}\n          />\n          <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.publishDate.helper_text')}</small>\n        </div>,\n        -10\n      );\n    }\n\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      summary: this.summary(),\n      featuredImage: this.featuredImage(),\n      position: this.position(),\n      isSized: this.isSized(),\n      isPendingReview: this.isPendingReview(),\n      publishDate: Date.parse(this.publishDate()) ? this.publishDate() : null,\n\n      relationships:\n        this.isNew && !this.attrs.isComposer\n          ? {\n            discussion: this.attrs.article,\n          }\n          : null,\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // Submit data\n    if (this.attrs.onsubmit) {\n      // Update attributes\n      this.meta.pushData({\n        attributes: this.submitData(),\n      });\n\n      // Push\n      this.attrs.onsubmit(this.meta);\n\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n\n    this.meta.save(this.submitData()).then(\n      () => {\n        if (this.attrs.article) {\n          this.attrs.article.pushData({\n            relationships: {\n              blogMeta: this.meta,\n            },\n          });\n        }\n\n        this.hide();\n        m.redraw();\n      },\n      (response) => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ComposerBody'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/TextEditor'];","import Component from 'flarum/common/Component';\n\nexport default class ComposerPreview extends Component {\n  view() {\n    return <div />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\n  }\n}\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\nimport Button from 'flarum/common/components/Button';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport ComposerPreview from './ComposerPreview';\nimport app from 'flarum/forum/app';\n\nexport default class Composer extends ComposerBody {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.previewContent = false;\n  }\n\n  // Render\n  view() {\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\n    const loading = this.loading || this.attrs.disabled;\n\n    return (\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\n        <div className={'Flarum-Blog-Composer-tabs'}>\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\n          </Button>\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\n          </Button>\n        </div>\n\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\n          {this.previewContent && (\n            <div className={'Flarum-Blog-Composer-preview'}>\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\n\n              <ComposerPreview content={this.composer.fields.content()} />\n            </div>\n          )}\n\n          {TextEditor.component({\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\n            placeholder: this.attrs.placeholder,\n            disabled: loading,\n            composer: this.composer,\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\n            onchange: this.composer.fields.content,\n            onsubmit: this.onsubmit.bind(this),\n            value: this.composer.fields.content(),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Submit trigger\n  onsubmit() {\n    if (this.attrs.onsubmit) {\n      this.attrs.onsubmit();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\nimport Composer from '../components/Composer/Composer';\nimport LanguageDropdown from '../components/LanguageDropdown/LanguageDropdown';\nimport ItemList from 'flarum/common/utils/ItemList';\n\nexport default class BlogComposer extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // User cannot write blogs\n    if (!app.forum.attribute('canWriteBlogPosts')) {\n      m.route.set(app.route('blog'));\n      return;\n    }\n\n    // Send history push\n    app.history.push('blogComposer');\n\n    // Get languages (if enabled)\n    this.languages = app.store.all('discussion-languages') || [];\n\n    // Set body class\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\n\n    // Article data\n    this.articleLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.locale;\n    this.article = app.store.createRecord('discussions');\n    this.blogMeta = null;\n\n    this.tags = [];\n\n    // Pre-select tags\n    if (m.route.param().tags) {\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\n\n      if (m.route.param().tags.length > 0) {\n        tagList.forEach((tagId) => {\n          const foundTag = app.store.getById('tags', tagId);\n\n          if (foundTag) {\n            this.tags.push(foundTag);\n          }\n        });\n      }\n    }\n\n    this.isSaving = false;\n  }\n\n  openTagsModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: this.tags,\n      onsubmit: (tags) => {\n        this.tags = tags;\n      },\n    });\n  }\n\n  openNameArticleModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(RenameArticleModal, {\n      article: this.article,\n      onChange: (title) => {\n        this.article.pushData({\n          attributes: {\n            title,\n          },\n        });\n      },\n    });\n  }\n\n  openBlogSettings(e) {\n    e.preventDefault();\n\n    if (this.isSaving) return;\n\n    app.modal.show(BlogPostSettingsModal, {\n      meta: this.blogMeta,\n      onsubmit: (meta) => (this.blogMeta = meta),\n    });\n  }\n\n  view() {\n    return (\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>{this.pageItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  pageItems() {\n    const items = new ItemList();\n\n    items.add(\n      'toolButtons',\n      <div className=\"FlarumBlog-ToolButtons\">\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\n          <i class=\"icon fas fa-angle-left Button-icon\" />\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n        </Link>\n      </div>,\n      100\n    );\n\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\n\n    return items;\n  }\n\n  articleWrapperItems() {\n    const items = new ItemList();\n\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\n\n    items.add(\n      'sidebar',\n      <div className=\"FlarumBlog-Article-Sidebar\">\n        <BlogAuthor user={app.session.user} />\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\n\n    items.add(\n      'content',\n      <div className=\"FlarumBlog-Article-Content\">\n        <div\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\n          style={{\n            backgroundImage: blogImage,\n            cursor: 'pointer',\n          }}\n          onclick={(e) => this.openBlogSettings(e)}\n        />\n\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown selected={this.articleLanguage} onclick={(language) => (this.articleLanguage = language)} />\n            )}\n\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\n            </Button>\n          </div>\n        </div>\n\n        {/* Article Categories */}\n        <div className={'FlarumBlog-Article-Categories'}>\n          {this.tags.map((tag) => (\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n              {tag.name()}\n            </button>\n          ))}\n\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n            {this.tags.length === 0\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\n            <i className={'fas fa-edit'} />\n          </button>\n        </div>\n\n        <div className={'FlarumBlog-Article-Post'}>\n          {/* Article name */}\n          <h1 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\n            {this.article && this.article.title() && this.article.title() !== ''\n              ? this.article.title()\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\n\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\n              <i className={'fas fa-edit'} />\n            </button>\n          </h1>\n\n          <div className=\"Post-body\">\n            <Composer\n              composer={app.composer}\n              originalContent={''}\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\n              onsubmit={() => this.create()}\n              disabled={this.isSaving}\n            />\n          </div>\n        </div>\n      </div>,\n      100\n    );\n\n    items.add(\n      'commentsPlaceholder',\n      <div className=\"FlarumBlog-Article-Comments\">\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\n        {/* Locked */}\n\n        <div className=\"Post-body\">\n          <blockquote class=\"uncited\">\n            <div>\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\n            </div>\n          </blockquote>\n        </div>\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  create() {\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    // Force tags\n    if (this.tags.length === 0) {\n      this.openTagsModal();\n      return;\n    }\n\n    // Force title\n    if (!this.article.title() || this.article.title() === '') {\n      this.openNameArticleModal();\n      return;\n    }\n\n    // Find blog tags\n    const findblogTags = this.tags.filter((tag) => {\n      return blogTags.indexOf(tag.id()) >= 0;\n    });\n\n    // No blog tags selected\n    if (findblogTags.length === 0) {\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\n      return;\n    }\n\n    if (\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\n    ) {\n      return;\n    }\n\n    let relationships = {\n      tags: this.tags,\n    };\n\n    // Add languages if possible\n    if (this.languages.length > 0) {\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage);\n    }\n\n    const data = {\n      title: this.article.title(),\n      content: app.composer.fields.content(),\n      relationships,\n      blogMeta:\n        this.blogMeta !== null\n          ? {\n              featuredImage: this.blogMeta.featuredImage(),\n              summary: this.blogMeta.summary(),\n              isSized: this.blogMeta.isSized(),\n            }\n          : null,\n    };\n\n    this.isSaving = true;\n\n    this.article\n      .save(data)\n      .then((article) => {\n        setTimeout(() => {\n          // Redirect to the article\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\n        }, 500);\n      })\n      .catch(() => {\n        this.isSaving = false;\n        m.redraw();\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core;","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class ArticleSubscription extends Component {\n  view() {\n    const currentSubscriptionState = this.attrs.discussion.subscription();\n\n    const preferences = app.session.user.preferences();\n    const notifyEmail = preferences['notify_newPost_email'];\n    const notifyTooltip = extractText(\n      app.translator.trans(\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\n      )\n    );\n\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\n    let icon = 'far fa-star';\n\n    // Following\n    if (currentSubscriptionState === 'follow') {\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\n      icon = 'fas fa-star';\n    }\n\n    return (\n      <Tooltip text={notifyTooltip} position=\"bottom\">\n        <Button\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\n          icon={icon}\n          onclick={this.saveSubscription.bind(\n            this,\n            this.attrs.discussion,\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\n          )}\n        >\n          {title}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  saveSubscription(discussion, subscription) {\n    discussion.save({ subscription });\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogCategories extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.blogCategories = app.forum.attribute('blogTags');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogCategories BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\n\n        {this.blogCategories &&\n          this.blogCategories.map((tagId) => {\n            const tag = app.store.getById('tags', tagId);\n\n            if (!tag) return null;\n\n            const tags = [];\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\n\n            // Add tags\n            app.store.all('tags').forEach((_tag) => {\n              if (_tag.isChild() && _tag.parent() === tag) {\n                if (_tag.slug() === m.route.param('slug')) {\n                  showSubTags = true;\n                }\n\n                tags.push(this.categoryItem(_tag));\n              }\n            });\n\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\n          })}\n      </div>\n    );\n  }\n\n  // Category item\n  categoryItem(tag) {\n    return (\n      <Link\n        href={app.route('blogCategory', { slug: tag.slug() })}\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\n        }`}\n      >\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\n          <i className={tag.icon()} />\n        </span>\n        {tag.name()}\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport BlogAuthor from './BlogAuthor';\nimport BlogSide from '../BlogSide';\n\nexport default class BlogItemSidebar extends Component {\n  view() {\n    return (\n      <div className={'FlarumBlog-Article-Sidebar'}>\n        <ul>{listItems(this.items().toArray())}</ul>\n      </div>\n    );\n  }\n\n  items() {\n    const itemlist = new ItemList();\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\n    itemlist.add('sidebar', BlogSide.component(this.attrs), 0);\n    return itemlist;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/EditPostComposer'];","import Component from 'flarum/common/Component';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport RenameArticleModal from './Modals/RenameArticleModal';\nimport app from 'flarum/forum/app';\n\nexport default class BlogPostController extends Component {\n  init() {\n    this.loadedPost = false;\n  }\n\n  manageArticleButtons() {\n    const article = this.attrs.article;\n    const items = new ItemList();\n\n\n    var approveSuccess = 'v17development-flarum-blog.forum.review_article.approve_article_approved';\n    var approveIcon = 'fas fa-thumbs-up';\n    var approveText = 'v17development-flarum-blog.forum.review_article.approve_article';\n    if (article.blogMeta().isPendingReview() == false) {\n      approveSuccess = 'v17development-flarum-blog.forum.review_article.approve_article_dissaproved';\n      approveIcon = 'fas fas fa-thumbs-down';\n      approveText = 'v17development-flarum-blog.forum.review_article.dissaprove_article';\n    }\n\n    // Working for GlowingBlue version\n    const LanguageDiscussionModal =\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\n        : null;\n\n    // Rename article\n    if (article.canRename()) {\n      items.add(\n        'rename',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\n            icon: 'fas fa-pencil-alt',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\n        ),\n        100\n      );\n    }\n\n    const articlePost = article.firstPost();\n\n    // Edit article\n    items.add(\n      'edit',\n      Button.component(\n        {\n          className: 'Button',\n          disabled: !articlePost || !articlePost.canEdit(),\n          onclick: () => {\n            app.composer.load(EditPostComposer, { post: articlePost });\n            app.composer.show();\n          },\n          icon: 'fas fa-edit',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\n      ),\n      90\n    );\n\n    // Article settings\n    items.add(\n      'articleSettings',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\n          icon: 'fas fa-cogs',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n      ),\n      80\n    );\n\n    // Update categories\n    if (article.canTag()) {\n      items.add(\n        'tag',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\n            icon: 'fas fa-tag',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\n        ),\n        70\n      );\n    }\n\n    // Approve article\n    if (article.blogMeta() && article.attribute('canBeApprove')) {\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\n\n      items.add(\n        'approve',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => {\n\n\n              article.blogMeta().save({\n                isPendingReview: !article.blogMeta().isPendingReview(),\n              }).then(\n                () => {\n                  app.alerts.show(\n                    Alert,\n                    { type: 'success' },\n                    app.translator.trans(approveSuccess)\n                  );\n                },\n                (response) => {\n                  this.loading = false;\n                  this.handleErrors(response);\n                }\n              );\n            },\n            icon: approveIcon,\n          },\n          app.translator.trans(approveText)\n        ),\n        60\n      );\n    }\n\n    // Language\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\n      items.add(\n        'lang',\n        Button.component(\n          {\n            icon: 'fas fa-globe',\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\n          },\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\n        ),\n        50\n      );\n    }\n\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\n\n    // Lock article\n    if (article.canLock()) {\n      items.add(\n        'lock',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: DiscussionControls.lockAction.bind(article),\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\n          },\n          article.isLocked()\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\n        ),\n        30\n      );\n    }\n\n    // Hide/show/delete\n    if (article.canHide()) {\n      // Article is hidden\n      if (article.isHidden()) {\n        // Recover article\n        items.add(\n          'recover',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.restoreAction.bind(article),\n              icon: 'fas fa-eye',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\n          ),\n          20\n        );\n\n        // Delete article\n        if (article.canDelete()) {\n          items.add(\n            'delete',\n            Button.component(\n              {\n                className: 'Button',\n                onclick: () => {\n                  // Confirm deletion\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n                    // Redirect if the current page is an blog article\n                    if (app.history.getCurrent().name === 'blogArticle') {\n                      if (app.previous) {\n                        app.history.back();\n                      } else {\n                        m.route.set(app.route('blog'));\n                      }\n                    }\n\n                    return article.delete().then(() => {\n                      m.redraw();\n                    });\n                  }\n                },\n                icon: 'far fa-trash-alt',\n              },\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\n            ),\n            10\n          );\n        }\n      } else {\n        // Hide article\n        items.add(\n          'hide',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.hideAction.bind(article),\n              icon: 'fas fa-eye-slash',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\n          ),\n          0\n        );\n      }\n    }\n\n    return items;\n  }\n\n  view() {\n    const article = this.attrs.article;\n\n    const articlePost = article.firstPost();\n\n    return (\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\n          {Dropdown.component(\n            {\n              icon: 'fas fa-cog',\n              label: 'Manage',\n              buttonClassName: 'Button',\n              menuClassName: 'Dropdown-menu--right',\n              onshow: () => {\n                // Get post data to make sure they can edit the post\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\n                  this.loadedPost = true;\n                  m.redraw();\n                }\n              },\n            },\n            this.manageArticleButtons().toArray()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","import Component from 'flarum/common/Component';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport default class ForumNav extends Component {\n  view() {\n    return (\n      <div className=\"BlogForumNav BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\n        <nav className=\"IndexPage-nav sideNav\">\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\n            {this.navItems().toArray()}\n          </SelectDropdown>\n        </nav>\n      </div>\n    );\n  }\n\n  navItems() {\n    return IndexPage.prototype.navItems();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostStream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/PostStreamState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/fullTime'];","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostStream from 'flarum/forum/components/PostStream';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport BlogPostController from '../components/BlogPostController';\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\nimport Link from 'flarum/common/components/Link';\nimport BlogOverview from './BlogOverview';\nimport fullTime from 'flarum/common/helpers/fullTime';\nimport ArticleSubscription from '../components/ArticleSubscription';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/forum/app';\n\nexport default class BlogItem extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // Send history push\n    app.history.push('blogArticle');\n\n    this.bodyClass = 'BlogItemPage';\n\n    this.near = m.route.param('near') || 0;\n\n    this.loading = true;\n    this.found = false;\n    this.article = null;\n\n    this.loadBlogItem();\n  }\n\n  // Load blog overview\n  loadBlogItem() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      app.store\n        .find('discussions', m.route.param('id').split('-')[0])\n        .then(this.show.bind(this))\n        .catch(() => {\n          m.redraw();\n        });\n    }\n\n    m.redraw();\n  }\n\n  // Show blog post\n  show(article) {\n    // Set article data\n    this.article = article;\n\n    // Update title\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\n\n    this.loading = false;\n\n    let includedPosts = [];\n    if (article.payload && article.payload.included) {\n      const articleId = article.id();\n\n      includedPosts = article.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            record.relationships.discussion.data.id === articleId\n        )\n        .map((record) => app.store.getById('posts', record.id))\n        .sort((a, b) => a.id() - b.id())\n        .slice(0, 20);\n    }\n\n    this.stream = new PostStreamState(article, includedPosts);\n\n    // Scroll to specific post\n    if (this.near) {\n      this.stream.goToNumber(this.near || 0, true).then(() => {\n        app.current.set('discussion', article);\n        app.current.set('stream', this.stream);\n      });\n    }\n\n    // Read post on load\n    if (app.session.user && !article.lastReadPostNumber()) {\n      article.save({ lastReadPostNumber: 1 });\n    }\n\n    m.redraw();\n  }\n\n  postItems() {\n    let articlePost = null;\n\n    if (!this.loading && this.article) {\n      articlePost = this.article?.firstPost?.();\n    }\n\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <h1\n        className={classList('FlarumBlog-Article-Title', {\n          'FlarumBlog-Article-GhostTitle': this.loading,\n        })}\n      >\n        {this?.article?.title?.() || 'Ghost title'}\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\n      </h1>,\n      100\n    );\n\n    items.add(\n      'publishDate',\n      <div\n        className={classList('FlarumBlog-Article-PublishDate', {\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\n        })}\n      >\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\n      </div>,\n      80\n    );\n\n    if (this.loading) {\n      items.add(\n        'skeleton',\n        [0, 1, 2].map(() => (\n          <div>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p>&nbsp;</p>\n          </div>\n        )),\n        60\n      );\n    }\n\n    if (!this.loading) {\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\n        let text = app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review');\n        let iconName = \"far fa-clock\";\n        if (Date.parse(this.article.blogMeta().publishDate())) {\n          text = app.translator.trans('v17development-flarum-blog.forum.review_article.withdraw_review');\n          iconName = \"far fa-calendar\";\n        }\n\n        items.add(\n          'review',\n          <div className={'Post-body'}>\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\n              <div>\n                {icon(iconName, { style: { marginRight: '5px' } })}{' '}\n                {text}\n              </div>\n            </blockquote>\n          </div>,\n          60\n        );\n      }\n      if (articlePost) {\n        items.add('post', <CommentPost post={articlePost} />, 40);\n      }\n    }\n\n    return items;\n  }\n\n  contentItems() {\n    const items = new ItemList();\n    const blogImage = this.article?.blogMeta()?.featuredImage?.();\n\n    if (blogImage) {\n      items.add(\n        'image',\n        <div className={classList('FlarumBlog-Article-Image', { 'FlarumBlog-Article-GhostImage': this.loading })}>\n          <img src={blogImage} />\n        </div>\n        ,\n        100\n      );\n    }\n\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\n    }\n\n    // Article Categories\n    items.add(\n      'categories',\n      <div className=\"FlarumBlog-Article-Categories\">\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\n\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\n      </div>,\n      60\n    );\n\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\n\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\n      items.add(\n        'comments',\n        <div className={'FlarumBlog-Article-Comments'}>\n          {/* Show subscription state */}\n          {!this.loading &&\n            app.session.user &&\n            this.article.subscription &&\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\n\n          <h4>\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\n          </h4>\n\n          {/* Locked */}\n          {!this.loading && this.article?.isLocked?.() && (\n            <div className={'Post-body'}>\n              <blockquote class=\"uncited\">\n                <div>\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\n                </div>\n              </blockquote>\n            </div>\n          )}\n\n          {!this.loading &&\n            this.article &&\n            PostStream.component({\n              discussion: this.article,\n              stream: this.stream,\n              onPositionChange: this.positionChanged.bind(this),\n            })}\n        </div>,\n        75\n      );\n    }\n\n    return items;\n  }\n\n  view() {\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>\n          <div className={'FlarumBlog-ToolButtons'}>\n            <Link\n              href={app.route('blog')}\n              className={'Button'}\n              onclick={(e) => {\n                if (app.previous.matches(BlogOverview)) {\n                  e.preventDefault();\n                  history.back();\n                }\n              }}\n            >\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n            </Link>\n          </div>\n          <div className={'FlarumBlog-Article'}>\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\n\n            <BlogItemSidebar article={this.article} loading={this.loading} />\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  positionChanged(startNumber, endNumber) {\n    const article = this.article;\n\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\n      article.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","import { compat } from '@flarum/core/forum';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport ArticleSubscription from './components/ArticleSubscription';\nimport BlogCategories from './components/BlogCategories';\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\nimport BlogOverviewItem from './components/BlogOverviewItem';\nimport BlogPostController from './components/BlogPostController';\nimport Composer from './components/Composer/Composer';\nimport ComposerPreview from './components/Composer/ComposerPreview';\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\nimport ForumNav from './components/ForumNav';\nimport Language from './components/LanguageDropdown/Language';\nimport LanguageDropdown from './components/LanguageDropdown/LanguageDropdown';\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\nimport BlogItem from './pages/BlogItem';\nimport BlogOverview from './pages/BlogOverview';\n\nexport default () => {\n  Object.assign(compat, {\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\n\n    'v17development/blog/components/Composer/Composer': Composer,\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\n\n    'v17development/blog/components/LanguageDropdown/Language': Language,\n    'v17development/blog/components/LanguageDropdown/LanguageDropdown': LanguageDropdown,\n\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\n\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\n    'v17development/blog/components/BlogCategories': BlogCategories,\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\n    'v17development/blog/components/BlogPostController': BlogPostController,\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\n    'v17development/blog/components/ForumNav': ForumNav,\n\n    'v17development/blog/pages/BlogItem': BlogItem,\n    'v17development/blog/pages/BlogOverview': BlogOverview,\n\n    'v17development/blog/models/BlogMeta': BlogMeta,\n  });\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\n      items.add(\n        'blog',\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\n        </LinkButton>,\n        15\n      );\n    }\n    return items;\n  });\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/FieldSet'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SettingsPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/UserCard'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/UserControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/username'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/AvatarEditor'];","import { override } from 'flarum/common/extend';\nimport UserCard from 'flarum/forum/components/UserCard';\n\n\nimport app from 'flarum/forum/app';\nimport UserControls from 'flarum/forum/utils/UserControls';\nimport avatar from 'flarum/common/helpers/avatar';\nimport username from 'flarum/common/helpers/username';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport Link from 'flarum/common/components/Link';\nimport AvatarEditor from 'flarum/forum/components/AvatarEditor';\nimport listItems from 'flarum/common/helpers/listItems';\nimport classList from 'flarum/common/utils/classList';\n\nfunction getName(user) {\n  let name = app.translator.trans('core.lib.username.deleted_text');\n  if (user && user.displayName()) {\n    name = user.displayName();\n  }\n  if (user.data.attributes.blogName) {\n    name += \" | \" + user.data.attributes.blogName;\n  }\n  return <span className=\"username\">{name}</span>;\n}\n\nexport default function () {\n  override(UserCard.prototype, 'view', function (original) {\n    const user = this.attrs.user;\n    const controls = UserControls.controls(user, this).toArray();\n    const color = user.color();\n    const badges = user.badges().toArray();\n    var background = null;\n\n    //We are doing a override...so...\n    if (this.attrs.user.cover()) {\n      let coverUrl = this.attrs.user.cover();\n      if (coverUrl) {\n        background = `url(${coverUrl})`;\n      }\n    }\n\n    return (\n      <div className={classList('UserCard', this.attrs.className)} style={color && { '--usercard-bg': color, '--background-image':  background}}>\n        <div className=\"darkenBackground\">\n          <div className=\"container\">\n            {!!controls.length && (\n              <Dropdown\n                className=\"UserCard-controls App-primaryControl\"\n                menuClassName=\"Dropdown-menu--right\"\n                buttonClassName={this.attrs.controlsButtonClassName}\n                label={app.translator.trans('core.forum.user_controls.button')}\n                accessibleToggleLabel={app.translator.trans('core.forum.user_controls.toggle_dropdown_accessible_label')}\n                icon=\"fas fa-ellipsis-v\"\n              >\n                {controls}\n              </Dropdown>\n            )}\n\n            <div className=\"UserCard-profile\">\n              <h1 className=\"UserCard-identity\">\n                {this.attrs.editable ? (\n                  <>\n                    <AvatarEditor user={user} className=\"UserCard-avatar\" />\n                    {getName(user)}\n                  </>\n                ) : (\n                  <Link href={app.route.user(user)}>\n                    <div className=\"UserCard-avatar\">{avatar(user, { loading: 'eager' })}</div>\n                    {getName(user)}\n                  </Link>\n                )}\n              </h1>\n\n              {!!badges.length && <ul className=\"UserCard-badges badges\">{listItems(badges)}</ul>}\n\n              <ul className=\"UserCard-info\">{listItems(this.infoItems().toArray())}</ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  });\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/TextEditor'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/TextEditorButton'];","import { extend } from 'flarum/extend';\nimport TextEditor from 'flarum/components/TextEditor';\nimport TextEditorButton from 'flarum/components/TextEditorButton';\n\nexport default function () {\n    extend(TextEditor.prototype, 'toolbarItems', function (items) {\n        items.add('center', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/center]');\n                this.attrs.composer.editor.insertAt(selection[0], '[center]');\n            }} icon=\"fas fa-align-center\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.center_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('score', (\n            <TextEditorButton onclick={() => {\n                this.attrs.composer.editor.insertAtCursor('[score]50[/score]');\n            }} icon=\"far fa-star\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.score_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('review', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/review]');\n                this.attrs.composer.editor.insertAt(selection[0], '[review]');\n            }} icon=\"far fa-comment\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.review_tooltip')}\n            </TextEditorButton>\n        ),100);\n\n        items.add('carousel', (\n            <TextEditorButton onclick={() => {\n                let selection = this.attrs.composer.editor.getSelectionRange();\n                this.attrs.composer.editor.insertAt(selection[1], '[/carousel]');\n                this.attrs.composer.editor.insertAt(selection[0], '[carousel]');\n            }} icon=\"far fa-images\"\n            >\n                {app.translator.trans('v17development-flarum-blog.forum.buttons.carousel_tooltip')}\n            </TextEditorButton>\n        ),100);\n    });\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Badge'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/DiscussionListState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/GlobalSearchState'];","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/common/models/Tag';\nimport Discussion from 'flarum/common/models/Discussion';\nimport IndexPage from 'flarum/forum/components/IndexPage';\n\nimport BlogOverview from './pages/BlogOverview';\nimport redirector from './utils/redirector';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport extendTagOverview from './utils/extendTagOverview';\nimport discussionRouting from './utils/discussionRouting';\nimport BlogComposer from './pages/BlogComposer';\nimport compat from './compat';\nimport addSidebarNav from './utils/addSidebarNav';\n\nimport BlogItem from './pages/BlogItem';\nimport addPreferences from './utils/addPreferences';\nimport UserCard from './components/UserCard';\nimport AddDiscussionControls from './components/AddDiscussionControls';\nimport AddEditorButtons from './components/AddEditorButtons';\nimport AddBadges from './components/AddBadges';\nimport BlogPending from './pages/BlogPending';\nimport BlogList from './pages/BlogList';\n\nimport Carousel from './components/Carousel';\nimport ThreadsList from './pages/ThreadsList';\n\n\n// Register Flarum Blog\napp.initializers.add(\n  'v17development-flarum-blog',\n  (app) => {\n    /* ROUTES */\n    app.routes.blog = { path: '/blog', component: BlogOverview };\n\n    app.routes.blogCategory = {\n      path: '/blog/category/:slug',\n      component: BlogOverview,\n    };\n\n    app.routes.blogComposer = {\n      path: '/blog/compose',\n      component: BlogComposer,\n    };\n\n    app.routes.blogPending = {\n      path: '/blog/pending',\n      component: IndexPage,\n    };\n\n    app.routes.blogList = {\n      path: '/blog/list',\n      component: IndexPage,\n    };\n\n    app.routes.threadsList = {\n      path: '/thread/list',\n      component: IndexPage,\n    };\n\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\n\n    app.routes['blogArticle.near'] = {\n      path: '/blog/:id/:near',\n      component: BlogItem,\n    };\n\n    app.store.models.blogMeta = BlogMeta;\n\n    Discussion.prototype.blogMeta = Model.hasOne<BlogMeta>('blogMeta');\n    Tag.prototype.isBlog = Model.attribute<boolean>('isBlog');\n\n    // Redirect discussions/tags to their blog post/overview\n    redirector();\n\n    // Extend tag overview.\n    // Hide tags which are used as blog category\n    extendTagOverview();\n\n    // Make that blog articles have a blog route and not a discussion route\n    discussionRouting();\n\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\n    addSidebarNav();\n\n    //////\n    // CUSTOM RUNIG006\n    //////\n\n    // Custom the User Card\n    addPreferences();\n    UserCard();\n\n    // Add Buttons badges and more\n    AddEditorButtons();\n    AddDiscussionControls();\n    AddBadges();\n    \n    // Add special views\n    BlogPending();\n    BlogList();\n    ThreadsList();\n\n    // Enable the Carousel login in the comments\n    // The button is in EditorButtons\n    Carousel();\n  },\n  -100000\n);\n\ncompat();\n","import IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Redirect tag to blog category\n  extend(IndexPage.prototype, 'oncreate', function () {\n    const tag = this.currentTag();\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\n\n    // Only trigger when it's a tag page and the redirects are enabled\n    if (tag && tagRedirectEnabled) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      // Tag is inside list\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\n        m.route.set(app.route('blog'));\n      }\n    }\n  });\n\n  // Redirect discussion to blog article\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      // Only redirect if the discussion has blog tags\n      if (foundTags.length > 0) {\n        // Redirect to blog article\n        const url = app.route('blogArticle', {\n          id: discussion.slug(),\n        });\n\n        m.route.set(url, null, { replace: true });\n\n        return null;\n      }\n    }\n\n    return original(discussion);\n  });\n}\n","import app from 'flarum/forum/app';\nimport Button from 'flarum/common/components/Button';\nimport { extend, override } from 'flarum/common/extend';\nimport FieldSet from 'flarum/common/components/FieldSet';\nimport SettingsPage from 'flarum/common/components/SettingsPage';\nimport Stream from 'flarum/common/utils/Stream';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Alert from 'flarum/common/components/Alert';\n\nexport default function () {\n\n    extend(SettingsPage.prototype, 'oninit', function () {\n        //I dont have a fucking clue why it need to be here and not in the \"settingsItems\" extend\n        this.blogSettings = {\n            name: Stream(this.user.preferences().blogName || null),\n            image: Stream(this.user.preferences().blogImage || null)\n        }\n    });\n    extend(SettingsPage.prototype, 'settingsItems', function (items) {\n        if (app.forum.attribute('canWriteBlogPosts') == false) {\n            return;\n        }\n        items.add(\n            'blog-options',\n            FieldSet.component(\n                {\n                    label: app.translator.trans('v17development-flarum-blog.forum.user_settings.settings'),\n                    className: 'blog-settings',\n                },\n                this.blogOptions().toArray()\n            )\n        );\n    });\n\n    SettingsPage.prototype['blogOptions'] = function () {\n        let fofUploadButton = null;\n        if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n            const { components: { Uploader, FileManagerModal }, } = require('@fof-upload');\n            const uploader = new Uploader();\n            fofUploadButton = (\n                <Button class=\"Button Button--icon\" onclick={async () => {\n                    app.modal.show(\n                        FileManagerModal,\n                        {\n                            uploader: uploader,\n                            onSelect: (files) => {\n                                this.blogSettings.image(app.store.getById('files', files[0]).url());\n                            },\n                        },\n                        true\n                    );\n                }}\n                    icon=\"fas fa-cloud-upload-alt\"\n                />\n            );\n        }\n\n        const items = new ItemList();\n        items.add(\n            'blog-name',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.name')}:</label>\n                <input type=\"text\" className=\"FormControl\" bidi={this.blogSettings.name}></input>\n            </div>,\n        );\n        items.add(\n            'blog-image',\n            <div className=\"Form-group\">\n                <label>{app.translator.trans('v17development-flarum-blog.forum.user_settings.image')}:</label>\n                <div style=\"display:flex\">\n                    <input type=\"text\" className=\"FormControl\" placeholder=\"https://\" bidi={this.blogSettings.image} />\n                    {fofUploadButton}\n                </div>\n\n\n                <img src={this.blogSettings.image()} height=\"100\" />\n            </div>,\n        );\n        items.add(\n            'blog-save',\n            <Button class=\"Button\" onclick={async () => {\n                let promise = this.user.savePreferences({ blogName: this.blogSettings.name, blogImage: this.blogSettings.image });\n                promise.then(function () {\n                    m.redraw();\n                    app.alerts.show(Alert, { type: 'success' }, app.translator.trans('v17development-flarum-blog.forum.user_settings.save_alert'));\n                });\n            }}>\n                {app.translator.trans('v17development-flarum-blog.forum.user_settings.save')}\n            </Button>\n        );\n        return items;\n    };\n}","import { extend } from 'flarum/extend';\nimport app from 'flarum/forum/app';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport Button from 'flarum/common/components/Button';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport Alert from 'flarum/common/components/Alert';\n\nexport default function () {\n    extend(DiscussionControls, 'userControls', function (items, discussion, context) {\n        // If the discussion is:\n        // - Not a discusion...yeah dont have a clue why\n        // - Is hidden\n        // - The blog extension is not enabled\n        // - This person cant write blogs\n        // Dont waste any time\n        if (!discussion || discussion.isHidden() || !'flarum-blog' in flarum.extensions || app.forum.attribute('canWriteBlogPosts') == false) {\n            return;\n        }\n\n        // Find the tags that are \"blog tags\", find if this blog has any of that tags\n        const blogTags = app.forum.attribute('blogTags') || [];\n        const findblogTags = discussion.tags().filter((tag) => {\n            return blogTags.indexOf(tag.id()) >= 0;\n        });\n        if (findblogTags.length == 0) {\n            return;\n        }\n\n        items.add('separator1', <li className=\"Dropdown-separator\" />, -10);\n        items.add(\n            'gotoBlog',\n            Button.component(\n                {\n                    icon: 'fas fa-newspaper',\n                    onclick: () => {\n                        m.route.set(app.route('blogArticle', {\n                            id: discussion.slug(),\n                        }));\n                    },\n                },\n                app.translator.trans('v17development-flarum-blog.forum.tools.goto_blog')\n            ), -10\n        );\n\n        items.add(\n            'articleSettings',\n            Button.component(\n                {\n                    className: 'Button',\n                    onclick: () => app.modal.show(BlogPostSettingsModal, { article: discussion }),\n                    icon: 'fas fa-cogs',\n                },\n                app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n            ),\n            -10\n        );\n\n        if (discussion.attribute('canBeApprove')) {\n            let sucess = 'v17development-flarum-blog.forum.review_article.approve_article_approved';\n            let icon = 'fas fa-thumbs-up';\n            let text = 'v17development-flarum-blog.forum.review_article.approve_article';\n\n            let disabled = false;\n            let title = \"\";\n\n            if (discussion.blogMeta().isPendingReview() == false) {\n                sucess = 'v17development-flarum-blog.forum.review_article.approve_article_dissaproved';\n                icon = 'fas fas fa-thumbs-down';\n                text = 'v17development-flarum-blog.forum.review_article.dissaprove_article';\n            }\n\n            if (discussion.blogMeta() == false) {\n                disabled = true;\n                title = app.translator.trans('v17development-flarum-blog.forum.tools.tooltip.missing_meta');\n            }\n            items.add(\n                'approve',\n                <Tooltip text={title}>\n                    <Button className='Button' icon={icon} disabled={disabled} onclick={() => {\n                        discussion.blogMeta().save({\n                            isPendingReview: !discussion.blogMeta().isPendingReview(),\n                        }).then(\n                            () => {\n                                app.alerts.show(\n                                    Alert,\n                                    { type: 'success' },\n                                    app.translator.trans(sucess)\n                                );\n                            },\n                            (response) => {\n                                this.loading = false;\n                                this.handleErrors(response);\n                            }\n                        );\n                    }}\n                    >\n                        {app.translator.trans(text)}\n                    </Button>\n                </Tooltip>,\n                -10\n            );\n        }\n    });\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Badge from 'flarum/common/components/Badge';\n\nexport default function () {\n  extend(Discussion.prototype, 'badges', function (badges) {\n    if (this.tags()) {\n      const blogTags = app.forum.attribute('blogTags') || [];\n      const findblogTags = this.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0;\n      });\n      if (findblogTags.length == 0) {\n        return;\n      }\n      if (app.forum.attribute('canWriteBlogPosts')) {\n        badges.add('blog', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.blog')} icon=\"fas fa-newspaper\" type=\"blog\" />);\n\n        if (this.blogMeta() && this.blogMeta().isPendingReview() == true) {\n          if (Date.parse(this.blogMeta().publishDate())) {\n            badges.add('pending_date', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.pending_date')} icon=\"fas fa-calendar\" type=\"pending_date\" />);\n          } else {\n            badges.add('pending', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.pending')} icon=\"fas fa-clock\" type=\"pending\" />);\n          }\n        }\n        if (this.blogMeta() == false) {\n          badges.add('missing_meta', <Badge label={app.translator.trans('v17development-flarum-blog.forum.badge.missing_meta')} icon=\"fas fa-store-slash\" type=\"missing_meta\" />);\n        }\n      }\n    }\n  });\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\nimport GlobalSearchState from 'flarum/forum/states/GlobalSearchState';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        if (app.session.user && app.forum.attribute('canApproveBlogPosts')) {\n            const params = app.search.stickyParams();\n\n            items.add(\n                'blogPending',\n                <LinkButton href={app.route('blogPending', params)} icon=\"fas fa-clock\">\n                    {app.translator.trans('v17development-flarum-blog.forum.pending')}\n                </LinkButton>,\n                50\n            );\n        }\n    });\n\n    extend(IndexPage.prototype, 'setTitle', function () {\n        if (app.current.get('routeName') === 'blogPending') {\n            app.setTitle(app.translator.trans('v17development-flarum-blog.forum.pending'));\n        }\n    });\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        if (typeof params.include === 'string') {\n            params.include = [params.include];\n        } else {\n            params.include?.push('blogMeta', 'firstPost', 'user');\n        }\n        if (app.current.get('routeName') === 'blogPending') {\n            params.filter = params.filter ?? {};\n            params.filter.blogpending = 1;\n        }\n    });\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        const params = app.search.stickyParams();\n\n        items.add(\n            'blogList',\n            <LinkButton href={app.route('blogList', params)} icon=\"fas fa-newspaper\">\n                {app.translator.trans('v17development-flarum-blog.forum.articles')}\n            </LinkButton>,\n            50\n        );\n    });\n\n    extend(IndexPage.prototype, 'setTitle', function () {\n        if (app.current.get('routeName') === 'blogList') {\n            app.setTitle(app.translator.trans('v17development-flarum-blog.forum.articles'));\n        }\n    });\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        if (typeof params.include === 'string') {\n            params.include = [params.include];\n        } else {\n            params.include?.push('blogMeta', 'firstPost', 'user');\n        }\n        if (app.current.get('routeName') === 'blogList') {\n            params.filter = params.filter ?? {};\n            params.filter.blog = \"\";\n        }\n    });\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport LinkButton from 'flarum/common/components/LinkButton';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\n\nexport default function () {\n\n    extend(IndexPage.prototype, 'navItems', function (items) {\n        const params = app.search.stickyParams();\n\n        items.add(\n            'threadsList',\n            <LinkButton href={app.route('threadsList', params)} icon=\"fas fa-comment\">\n                {app.translator.trans('v17development-flarum-blog.forum.threads')}\n            </LinkButton>,\n            50\n        );\n    });\n\n    extend(IndexPage.prototype, 'setTitle', function () {\n        if (app.current.get('routeName') === 'threadsList') {\n            app.setTitle(app.translator.trans('v17development-flarum-blog.forum.threads'));\n        }\n    });\n\n    extend(DiscussionListState.prototype, 'requestParams', function (params) {\n        if (typeof params.include === 'string') {\n            params.include = [params.include];\n        } else {\n            params.include?.push('blogMeta', 'firstPost', 'user');\n        }\n        if (app.current.get('routeName') === 'threadsList') {\n            params.filter = params.filter ?? {};\n            params.filter['-blog'] = \"\";\n        }\n    });\n}"],"names":["module","exports","flarum","extensions","_typeof","require","_regeneratorRuntime","e","__esModule","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","definition","key","get","obj","prop","core","compat","_setPrototypeOf","bind","_inheritsLoose","subClass","superClass","Language","_Component","apply","arguments","_proto","oninit","vnode","languages","app","store","all","options","reduce","lang","code","m","className","attrs","extra","view","_this$attrs","language","uppercase","toUpperCase","Component","LanguageDropdown","_this","selected","Dropdown","buttonClassName","label","map","defaultSelected","forum","attribute","translator","formatter","locale","active","Button","icon","onclick","BlogOverviewItem","titleItems","article","items","ItemList","add","'['","title","dataItems","class","humanTime","createdAt","contentItems","_article$blogMeta","summary","blogMeta","toArray","getImage","_article$blogMeta2","defaultImage","featuredImage","_article$blogMeta3","_this$attrs2","blogImage","isSized","Link","href","id","slug","classList","tags","tag","src","FeaturedBlogItem","topItems","_article$tags","style","backgroundImage","carousel","initialCarousel","interval","setInterval","moveCarousel","buttons","querySelectorAll","item","clearInterval","direction","list","querySelector","maxScroll","scrollWidth","clientWidth","scrollAvailable","scrollLeft","widthToMove","extend","CommentPost","element","node","BlogTop","isLoading","articles","currentSelectedLanguage","route","param","loadArticles","reloadData","redraw","query","find","page","limit","filter","q","sort","document","_this$articles","_this$articles2","concat","Array","fill","BlogCrude","htmlSidebar","trust","BlogSide","BlogOverview","_Page","_localStorage$getItem","trans","bodyClass","compactedView","localStorage","getItem","biggerArticles","arti","_arti$blogMeta","_this2","IndexPage","hero","newArticle","set","location","pathname","setItem","state","currentCategory","getBy","join","Page","BlogMeta","_mixin","mixin","Model","discussion","position","isPendingReview","publishDate","extendTagOverview","TagsPage","markup","loading","blogTags","tag_tiles_parent","findChild","tag_tiles","children","tile","indexOf","remove","parent","childClass","recursive","maxDepth","depth","isArray","getChildren","child","_children$i","includes","_step","_iterator","_createForOfIteratorHelperLoose","subChild","original_discussion_route","near","shouldRedirect","lastReadPostNumber","BlogAuthor","author","user","background","cover","coverUrl","backgroundColor","color","username","data","attributes","alt","avatar","blogName","bio","listItems","RenameArticleModal","_Modal","Stream","redirect","content","fields","placeholder","bidi","submitData","onsubmit","preventDefault","onChange","hide","save","url","window","history","replaceState","response","handleErrors","Modal","asyncGeneratorStep","gen","reject","_next","_throw","info","error","_asyncToGenerator","fn","self","args","err","BlogPostSettingsModal","meta","createRecord","isNew","exists","positionOptions","maxWidth","minWidth","width","minHeight","fofUploadButton","_require$components","components","Uploader","FileManagerModal","uploader","_callee","_context","show","onSelect","files","file","getById","marginTop","Switch","onchange","val","fontWeight","Select","Date","parse","relationships","isComposer","pushData","ComposerPreview","oncreate","s9e","TextFormatter","preview","dom","Composer","_ComposerBody","previewContent","hasContent","composer","disabled","TextEditor","submitLabel","jumpToPreview","ComposerBody","BlogComposer","articleLanguage","tagList","split","tagId","foundTag","isSaving","openTagsModal","TagDiscussionModal","selectedTags","openNameArticleModal","_this3","openBlogSettings","_this4","pageItems","articleWrapperItems","articleItems","_this5","cursor","originalContent","marginRight","_this6","confirm","setTimeout","alert","ArticleSubscription","currentSubscriptionState","subscription","notifyEmail","session","preferences","notifyTooltip","extractText","Tooltip","text","saveSubscription","BlogCategories","blogCategories","showSubTags","_tag","isChild","categoryItem","BlogItemSidebar","itemlist","component","BlogPostController","init","loadedPost","manageArticleButtons","approveSuccess","approveIcon","approveText","LanguageDiscussionModal","canRename","articlePost","firstPost","canEdit","load","EditPostComposer","post","canTag","Alert","canChangeLanguage","canLock","DiscussionControls","isLocked","canHide","isHidden","canDelete","getCurrent","back","menuClassName","onshow","ForumNav","SelectDropdown","navItems","BlogItem","found","loadBlogItem","preloadBlogOverview","includedPosts","payload","included","articleId","record","b","stream","PostStreamState","goToNumber","postItems","_this$article2","_this$article3","_this$article","fullTime","_this$article$blogMet","_this$article4","iconName","fontSize","_this$article5","_app$session$user","_this$article6","_this$article7","_this$article8","posts","_this$article9","_this$article10","_this$article11","commentCount","PostStream","onPositionChange","positionChanged","matches","startNumber","endNumber","addSidebarNav","LinkButton","getName","TextEditorButton","selection","editor","getSelectionRange","insertAt","insertAtCursor","routes","blog","path","blogCategory","blogComposer","blogPending","blogList","threadsList","blogArticle","models","Discussion","Tag","isBlog","currentTag","tagRedirectEnabled","override","DiscussionPage","original","replace","discussionRouting","SettingsPage","blogSettings","image","FieldSet","blogOptions","height","_callee2","_context2","savePreferences","UserCard","controls","UserControls","badges","controlsButtonClassName","accessibleToggleLabel","editable","AvatarEditor","infoItems","AddEditorButtons","context","sucess","Badge","params","stickyParams","DiscussionListState","_params$include","_params$filter","include","blogpending","Carousel","assign"],"sourceRoot":""}